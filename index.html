<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>An Intro to Shiny</title>
    <meta charset="utf-8" />
    <meta name="author" content="Sam Csik | Data Training Coordinator National Center for Ecological Analysis &amp; Synthesis " />
    <script src="index_files/header-attrs/header-attrs.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="my-css.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">






class: inverse, middle

# An Intro to &lt;img src="media/shiny_text_color.png" alt="The word 'Shiny' in cursive lettering, which is the logo used by RStudio for their Shiny R package. The Shiny package is used to build interactive web applications." style="display: inline-block; margin: 0; position: relative; top: 25px; width:105px;height:65px;" /&gt;&lt;br&gt;

&lt;br&gt;

&lt;span style = 'font-size: 130%;'&gt;Sam Csik | Data Training Coordinator&lt;/span&gt;  

National Center for Ecological Analysis &amp; Synthesis&lt;br&gt;

&lt;br&gt;

&lt;span style = 'font-size: 130%;'&gt;Master of Environmental Data Science | Winter 2022&lt;/span&gt;   

Slides &amp; source code available on [<svg aria-label="GitHub" role="img" viewBox="0 0 496 512" style="height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>GitHub</title><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>](https://github.com/UCSB-MEDS/shiny-workshop)

---
### This workshop assumes the following:

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> You have R/RStudio installed on your machine and have a basic familiarity with the language.&lt;/span&gt;  

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> You have git installed on your machine and have a GitHub profile. You should know how to create and clone a GitHub repository to your machine.&lt;/span&gt;  

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> You have the required R packages installed. You can install/update them all at once by running:&lt;/span&gt;  


```r
install.packages(c("shiny", "tidyverse", "palmerpenguins", "DT", "shinyWidgets", "bslib", "thematic"))
```

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> You have downloaded the Palmer weather time series data from the [EDI Data Portal](https://doi.org/10.6073/pasta/cddd3985350334b876cd7d6d1a5bc7bf) (`table_28.csv`)&lt;/span&gt;

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> No prior Shiny experience is necessary!&lt;/span&gt;  

.center[
&lt;img src="media/shiny.png" title="A blue hexagon with the word 'Shiny' in cursive lettering printed across the center." alt="A blue hexagon with the word 'Shiny' in cursive lettering printed across the center." width="15%" height="15%" /&gt;
]

.footnote[
While not required, I do suggest watching this excellent [intro tutorial](https://vimeo.com/356696243) (~1.5 hrs) by [Allison Horst](allisonhorst.com), who live-codes her way through three small Shiny apps and introduces many of the concepts that we’ll spend more time discussing and practicing here.
]
---
### There are *lots* of really great Shiny resources out there

The following slides were adapted largely from existing materials, particularly: 

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> Garrett Grolemund's [Building Web Applications with Shiny](https://shiny.rstudio.com/tutorial/) tutorial (find the [GitHub Repo here](ttps://github.com/rstudio-education/shiny.rstudio.com-tutorial))&lt;/span&gt;

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> Allison Horst's [The Basics of Building Shiny Apps in R](https://github.com/allisonhorst/shiny-basics-sb-r-ladies) workshop&lt;/span&gt;

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> [Mastering Shiny](https://mastering-shiny.org/basic-app.html), by Hadley Wickham&lt;/span&gt;

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> [Building Shiny apps - an interactive tutorial](https://deanattali.com/blog/building-shiny-apps-tutorial/), by Dean Attali&lt;/span&gt;

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> [Engineering Production-Grade Shiny Apps](https://engineering-shiny.org/index.html), by Colin Fay, Sébastien Rochette, Vincent Guyader &amp; Cervan Girard.&lt;/span&gt;

Be sure to check out RStudio's great instructional resources and Shiny examples as well:

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> A thoughtfully organized [Articles](https://shiny.rstudio.com/articles/) page&lt;/span&gt;

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> The [Shiny User Showcase](https://shiny.rstudio.com/gallery/#user-showcase), a collection of Shiny apps and their source code developed by the Shiny developer community -- many of these featured apps are winners or honorable mentions of the [annual Shiny contest](https://www.rstudio.com/blog/winners-of-the-3rd-annual-shiny-contest/)!&lt;/span&gt;

&lt;span style = 'font-size: 85%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> [Shiny Demos](https://shiny.rstudio.com/gallery/#demos), a series of apps created by the Shiny developers to highlight specific features of the shiny package -- these are *excellent* resources to turn to when you are learning how to implement a new type of widget, working on the layout of your app, and more.&lt;/span&gt;

---
class: inverse, middle, center

## <svg aria-label="R Project" role="img" viewBox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>R Project</title><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg> What is Shiny?

Think interactive web pages built by people who love to code in R (i.e. hopefully many of you!), no JavaScript experience necessary.

---
### Shiny makes building web applications easy

&gt; *"**Shiny is an R package that makes it easy to build interactive web apps straight from R.** You can host standalone apps on a webpage or embed them in [R Markdown](https://rmarkdown.rstudio.com/?_ga=2.5356915.1997816511.1640293283-2019993402.1637352626) documents or build [dashboards](http://rstudio.github.io/shinydashboard/?_ga=2.5356915.1997816511.1640293283-2019993402.1637352626). You can also extend your Shiny apps with [CSS themes](http://rstudio.github.io/shinythemes/?_ga=2.94499804.1997816511.1640293283-2019993402.1637352626), [htmlwidgets](http://www.htmlwidgets.org/), and JavaScript [actions.](https://github.com/daattali/shinyjs/blob/master/README.md)"* - RStudio

&lt;br&gt;

.center[
&lt;img src="media/worldbank-shiny.gif" title="A gif of Andre Duarte's 'Worldbank-Shiny' app. On the lefthand side of the app, the title 'Gapminder Interactive Plot' sits above a series of three widgets. The first is a dropdown menu where the user can select a region (e.g. Europe &amp;amp; Central Asia) or view all regions at the same time. The next two widgets are slider inputs -- the first allows the user to select a year between 1960 and 2014, and the second allows the user to select a population size between 500 and 5000. On the right hand side of the app is a bubble plot of Fertility Rate vs. Life Expectancy, which updates as inputs are changed by the user. Hovering a bubble displays thge corresponding Country, Region, Population, Life Expectancy, and Fertility Rate." alt="A gif of Andre Duarte's 'Worldbank-Shiny' app. On the lefthand side of the app, the title 'Gapminder Interactive Plot' sits above a series of three widgets. The first is a dropdown menu where the user can select a region (e.g. Europe &amp;amp; Central Asia) or view all regions at the same time. The next two widgets are slider inputs -- the first allows the user to select a year between 1960 and 2014, and the second allows the user to select a population size between 500 and 5000. On the right hand side of the app is a bubble plot of Fertility Rate vs. Life Expectancy, which updates as inputs are changed by the user. Hovering a bubble displays thge corresponding Country, Region, Population, Life Expectancy, and Fertility Rate." width="80%" height="80%" /&gt;
.center[
&lt;span style = 'font-size:80%;'&gt;[Worldbank-Shiny](https://github.com/aguimaraesduarte/WorldBank-Shiny) app to visualize fertility rate vs. life expectancy from 1960 to 2015, by [Andre Duarte](https://github.com/aguimaraesduarte)&lt;/span&gt;
]
]

---
class: inverse, middle, center

## <svg aria-label="Puzzle Piece" role="img" viewBox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>Puzzle Piece</title><path d="M519.442 288.651c-41.519 0-59.5 31.593-82.058 31.593C377.409 320.244 432 144 432 144s-196.288 80-196.288-3.297c0-35.827 36.288-46.25 36.288-85.985C272 19.216 243.885 0 210.539 0c-34.654 0-66.366 18.891-66.366 56.346 0 41.364 31.711 59.277 31.711 81.75C175.885 207.719 0 166.758 0 166.758v333.237s178.635 41.047 178.635-28.662c0-22.473-40-40.107-40-81.471 0-37.456 29.25-56.346 63.577-56.346 33.673 0 61.788 19.216 61.788 54.717 0 39.735-36.288 50.158-36.288 85.985 0 60.803 129.675 25.73 181.23 25.73 0 0-34.725-120.101 25.827-120.101 35.962 0 46.423 36.152 86.308 36.152C556.712 416 576 387.99 576 354.443c0-34.199-18.962-65.792-56.558-65.792z"/></svg> The anatomy of a Shiny app

What does a shiny app look like under the hood?

---
## The basic anatomy of a Shiny app

&lt;span style = 'font-size:80%;'&gt;Shiny apps are composed to *two parts*: (1) a **web page** that displays the app to a user (i.e. the **user interface**, or **UI** for short), and (2) a **computer** that powers the app (i.e. the **server**).&lt;/span&gt;

.center[
&lt;img src="media/basic_shiny_app.png" width="100%" height="100%" /&gt;
]

&lt;span style = 'font-size:80%;'&gt;The **UI** controls the **layout and appearance** of your app and is written in HTML (except we use functions from the `{shiny}` package to write that HTML!). The **server** handles the **logic** of the app -- in other words, it is the set of instructions that tells the web page what to display when a user interacts with it.&lt;/span&gt;
---
### Widgets are web elements that users can interact with via the UI

&lt;span style = 'font-size:80%;'&gt;Widgets collect information from the user which is then used to update outputs created in the server.&lt;/span&gt;

.center[
&lt;img src="media/basic_widgets.png" title="Examples of Shiny's pre-built widget options. These include buttons, single checkbox, checkbox groups, date input, date range, file input, numeric input, radio buttons, select box, sliders, and text input. The default color scheme is black and gray with selections highlighted in blue." alt="Examples of Shiny's pre-built widget options. These include buttons, single checkbox, checkbox groups, date input, date range, file input, numeric input, radio buttons, select box, sliders, and text input. The default color scheme is black and gray with selections highlighted in blue." width="80%" height="80%" /&gt;
]

&lt;span style = 'font-size:80%;'&gt;Shiny comes with a variety of [pre-built widgets](https://shiny.rstudio.com/tutorial/written-tutorial/lesson3/) (see above), but you can also explore widget extensions using the [{shinyWidgets}](https://github.com/dreamRs/shinyWidgets) package.&lt;/span&gt;
---
### Reactivity - a very brief intro

&lt;span style = 'font-size:80%;'&gt;Reactivity is what makes Shiny apps responsive i.e. it lets the app instantly update itself whenever the user makes a change. At a very basic level, it looks something like this:&lt;/span&gt;

.center[
&lt;img src="media/reactivity_intro.png" title="A schematic of Shiny reactivity. The UI is represented by a light blue box. Inside the blue UI box, there is a radio button widget that says, 'Make a choice:' and three round radio buttons beneath it. Underneath that, there is a placeholder space for a reactive output to be created by the server. The server is to the left of the UI and is represented by an orange box. At a basic level, reactivity occurs after the following steps: (1) A widget gets information from a user which (2) is then passed to the server where it is used to update a data frame based on the users choice. (3) The new data frame is used to update outputs in the server, and (4) those outputs are then rendered in the UI." alt="A schematic of Shiny reactivity. The UI is represented by a light blue box. Inside the blue UI box, there is a radio button widget that says, 'Make a choice:' and three round radio buttons beneath it. Underneath that, there is a placeholder space for a reactive output to be created by the server. The server is to the left of the UI and is represented by an orange box. At a basic level, reactivity occurs after the following steps: (1) A widget gets information from a user which (2) is then passed to the server where it is used to update a data frame based on the users choice. (3) The new data frame is used to update outputs in the server, and (4) those outputs are then rendered in the UI." width="90%" height="90%" /&gt;
]

&lt;span style = 'font-size:80%;'&gt;Check out Garrett Grolemund's article, [How to understand reactivity in R](https://shiny.rstudio.com/articles/understanding-reactivity.html) for a more detailed overview of Shiny reactivity.&lt;/span&gt;

---
class: inverse, middle, center

## <svg aria-label="Laptop Code" role="img" viewBox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>Laptop Code</title><path d="M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"/></svg> Can I see an example with code please?

I'm glad you asked!

---
### &lt;span style = 'font-size:90%;'&gt;The Shiny package comes with **11** built-in examples to explore&lt;/span&gt;

&lt;span style = 'font-size:65%;'&gt;Install (if you have not yet done so) the `{shiny}` package by running the following code in your console:&lt;/span&gt;

```r
install.packages("shiny")
```

&lt;span style = 'font-size:65%;'&gt;Check out the available Shiny app examples by running this code in your console:&lt;/span&gt;

```r
library(shiny)
runExample(example = NA)
```

&lt;span style = 'font-size:65%;'&gt;Run the first example, which plots R’s built-in `faithful` data set with a configurable number of bins:&lt;/span&gt;

```r
runExample("01_hello")
```

.footnote[
&lt;span style = 'font-size:65%;'&gt;Check out [The basic parts of a Shiny app](https://shiny.rstudio.com/articles/basics.html) article, by Shiny from RStudio for an overview of some additional examples.&lt;/span&gt;
]

--

&lt;span style = 'font-size:65%;'&gt;Change the number of bins using the `sliderInput` widget and watch the histogram re-render. These working examples also come paired with code for you to see how the app is built. For example, the `sliderInput` is built with the following code:&lt;/span&gt;


```r
# Input: Slider for the number of bins ----
sliderInput(inputId = "bins",
            label = "Number of bins:",
             min = 1,
             max = 50,
             value = 30)
```

---
### Let's build our own! What to expect:

&lt;span style = 'font-size:80%;'&gt;We're going to cover a lot today, but by the end, you should have the tools you need to get you started making your own *awesome* shiny apps. We will:&lt;/span&gt;

--

&lt;span style = 'font-size:80%;'&gt;**1.** build &amp; publish (to [shinyapps.io](https://www.shinyapps.io/)) a basic shiny app with a reactive element using `{palmerpenguins}` data&lt;/span&gt;

--

&lt;span style = 'font-size:80%;'&gt;**2.** spruce up the appearance of our app using layout functions, then republish to shinyapps.io&lt;/span&gt;

--

&lt;span style = 'font-size:80%;'&gt;**3.** practice adding more reactive elements using `{palmerpenguins}` data&lt;/span&gt;

--

&lt;span style = 'font-size:80%;'&gt;**4.** learn how to read in and store data (from the Palmer Station Antarctic LTER) and, you guessed it, practice creating more reactive elements&lt;/span&gt;

--

&lt;span style = 'font-size:80%;'&gt;**5.** add some fun touches, like a theme and images&lt;/span&gt;

--

&lt;span style = 'font-size:80%;'&gt;**6.** learn how to use `{reactlog}` to debug shiny apps&lt;/span&gt;

--

&lt;span style = 'font-size:80%;'&gt;**7.** flex your creative shiny muscles to design and add a reactive element using the Palmer weather data set

--

&lt;span style = 'font-size:80%;'&gt;**8.** briefly talk about other application frameworks and additional considerations&lt;/span&gt; 

---
### The data

&lt;span style = 'font-size:70%;'&gt;We'll be using two different data sets to create our Shiny app: **(1)** the `penguins` data set from the [`{palmerpenguins}`](https://allisonhorst.github.io/palmerpenguins/) package and **(2)** the [Palmer Station Weather - Daily Averages](https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-pal.28.8) dataset from the Palmer Station Antarctic LTER.&lt;/span&gt;

&lt;span style = 'font-size:70%;'&gt;To access the **penguin** data set, you need to install and load the `{palmerpenguins}` package into R. Type `View(penguins)` into your console to open the data frame in the viewer. Type `?penguins` into your console to pull up additional information (including metadata) in the Help window of RStudio.&lt;/span&gt;

&lt;span style = 'font-size:70%;'&gt;Download the Palmer weather time series data (`table_28.csv`) and view its metadata on the [EDI Data Portal](https://doi.org/10.6073/pasta/cddd3985350334b876cd7d6d1a5bc7bf). Alternatively, you can download the file from [Google Drive](https://drive.google.com/file/d/1du5KHtDt_zzgBKAFxNYtdEAzfp7bfuGm/view?usp=sharing).&lt;/span&gt;

.center[
&lt;img src="media/lter_penguins.png" title="Three penguins standing in a row. The first is a chinstrap penguin, facing to the right so that we see its body and face profile. It has a black head, back, top of wings wings, and bill, but a white face, chin, belly, underside of wings, and light pink feet. A thin black line runs under its chin, looking similar to a chinstrap. It is standing in front of a purple background. The second is a Gentoo peguin facing towards us with its wings spread out to the side. It has a black face, back, and top of its wings, but a white belly, underside of wings, and wide white stripes above each eye that extend over the top of its head, like a bonnet. It has a bright orange bill and feet. It is standing in front of a green background. The third is an Adélie penguin with its body facing towards us but its head turned to the left so that we see its face profile. It has a completely black head, bill, back, and top of its wings. It has a white belly, underside of its wings, and thin white circles around its eyes, in addition to light pink feet. It is standing in front of an orange background." alt="Three penguins standing in a row. The first is a chinstrap penguin, facing to the right so that we see its body and face profile. It has a black head, back, top of wings wings, and bill, but a white face, chin, belly, underside of wings, and light pink feet. A thin black line runs under its chin, looking similar to a chinstrap. It is standing in front of a purple background. The second is a Gentoo peguin facing towards us with its wings spread out to the side. It has a black face, back, and top of its wings, but a white belly, underside of wings, and wide white stripes above each eye that extend over the top of its head, like a bonnet. It has a bright orange bill and feet. It is standing in front of a green background. The third is an Adélie penguin with its body facing towards us but its head turned to the left so that we see its face profile. It has a completely black head, bill, back, and top of its wings. It has a white belly, underside of its wings, and thin white circles around its eyes, in addition to light pink feet. It is standing in front of an orange background." width="25%" height="25%" /&gt;
.center[
&lt;span style = 'font-size:40%;'&gt;Artwork by [@allison_horst](https://twitter.com/allison_horst?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor)&lt;/span&gt;
]
]

.footnote[
&lt;span style = 'font-size:80%;'&gt;**Citations:**&lt;/span&gt;

&lt;span style = 'font-size:70%;'&gt;**(1)** Horst AM, Hill AP, Gorman KB (2020). palmerpenguins: Palmer Archipelago (Antarctica) penguin data. R package version 0.1.0. https://allisonhorst.github.io/palmerpenguins/. doi:10.5281/zenodo.3960x218.&lt;/span&gt;   

&lt;span style = 'font-size:70%;'&gt;**(2)** Palmer Station Antarctica LTER and P. Information Manager. 2019. Daily averaged weather timeseries (air temperature, pressure, wind speed, wind direction, precipitation, sky cover) at Palmer Station, Antarctica combining manual observations (1989 - Dec 12, 2003) and PALMOS automatic weather station measurements (Dec 13, 2003 - March 2019). ver 8. Environmental Data Initiative. https://doi.org/10.6073/pasta/cddd3985350334b876cd7d6d1a5bc7bf (Accessed 2021-12-29).&lt;/span&gt;
]

---
class: inverse, middle, center

## <svg aria-label="play" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>play</title><path d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"/></svg> Setting up your Shiny app

Let's start off by talking about some standard operating procedures -- things you'll do each time you begin a new shiny app. 

To start, set up a GitHub repository and project to house or soon-to-be app.

---
### All Shiny apps begin the same way

&lt;span style = 'font-size:70%;'&gt;You can create your app using RStudio's built-in Shiny app template (e.g. File &gt; New Project... &gt; New Directory &gt; Shiny Application), but it's just as easy to create it from scratch (and you'll memorize the structure faster!). Let's do that now.&lt;/span&gt;

--

&lt;span style = 'font-size:70%;'&gt;Create a new R script and name it `app.R` -- you **must** name your script `app.R`, otherwise it will not be recognized as a Shiny app. Copy the following code into your `app.R` script, or use the `shinyapp` snippet to automatically generate a shiny app template.&lt;/span&gt;


```r
# load packages ----
library(shiny)

# user interface ----
ui &lt;- fluidPage()

# server instructions ----
server &lt;- function(input, output) {}

# combine UI &amp; server into an app ----
shinyApp(ui = ui, server = server)
```

&lt;span style = 'font-size:70%;'&gt;It's best practice to place this `app.R` file into its own folder and *not* in a folder that contains other scripts/files, *unless* those other files are used by your app. This is a good segue into talking about repository files structure...&lt;/span&gt;

.footnote[
&lt;span style = 'font-size:80%;'&gt;**Tip:** Use code sections (denoted by `# some text ----`) to make navigating different sections of your application code a bit easier. Code sections will appear in your document outline (find the button at the top right corner of the script/editor panel or use the `shift` + `command/control` + `O` keyboard shortcut).&lt;/span&gt;
]

---
## Shiny app repository structure

&lt;span style = 'font-size:80%;'&gt;Not much is *required* to make a functional app (which is awesome!) -- for a basic app, you really just need an `app.R` file where you'll write the code for your UI and server. To stay organized we'll place `app.R` into a subdirectory (e.g. `myapp`), which will also house any dependencies (e.g. other scripts/files/etc.) used by `app.R`.&lt;/span&gt;

.pull-left[
&lt;img src="media/repo_structure.png" width="100%" height="100%" /&gt;
]

.pull-right[
* &lt;span style = 'font-size:55%;'&gt;**app directory (e.g. the `myapp` folder):** stores your app (`app.R`) and all other scripts/files/etc. used by your app&lt;/span&gt;
* &lt;span style = 'font-size:55%;'&gt;**`global.R`:** a script for storing commonly used pieces of logic and objects you want available to both your `ui.R` and `server.R`; can reduce redundant code and increase the app's speed; must be in the same directory as `app.R`&lt;/span&gt;
* &lt;span style = 'font-size:55%;'&gt;**data directory (e.g. the `data` folder):** stores the data used by your app; alternatively, you can [store your data remotely](https://shiny.rstudio.com/articles/persistent-data-storage.html) (e.g. Google Sheets, Dropbox)&lt;/span&gt;
* &lt;span style = 'font-size:55%;'&gt;**`www` directory:** a directory expected by Shiny that stores any elements to be rendered in the web browser (and are not the output of the scripts); includes image files (e.g. `.png`, `.jpeg`), HTML, CSS, and JavaScript files, etc.&lt;/span&gt;
* &lt;span style = 'font-size:55%;'&gt;**`R` directory (outside of app folder):** a place for any scripts not used by your app; I find that building my outputs first in a separate script helps me from going cross-eyed -- I store them here &lt;/span&gt;
]

---
## Run your app

&lt;span style = 'font-size:75%;'&gt;Once you have saved your `app.R` file, the "Run" code button should turn into a "Run App" button that looks like:&lt;/span&gt; &lt;img src="media/run_app.png" alt="A green, right facing triangular arrow next to the words 'Run App'" style="display: inline-block; margin: 0; position: relative; top: 3px; width:80px;height:20px;"/&gt; &lt;span style = 'font-size:75%;'&gt;Click that button to run your app!&lt;/span&gt;

&lt;span style = 'font-size:75%;'&gt;You won't see much yet, as we have only built a blank app (but a functioning app, nonetheless!). In your RStudio console, you should see something like: `Listening on http://127.0.0.1:XXXX`, which is the URL where your app can be found. 127.0.0.1 is a standard address that means "this computer," and the last four digits represent a randomly assigned port number.&lt;/span&gt;

&lt;span style = 'font-size:75%;'&gt;You should also notice a red stop sign, &lt;img src="media/stop.png" alt="A red hexagon with the word 'STOP' printed in white across the center." style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;"/&gt;, appear in the top right corner of your console indicating that R is busy--this is because your R session is currently acting as your Shiny app server and listening for any user interaction with your app. Because of this, you won't be able to run any commands in the console until you quit your app. Do so by pressing the stop button.&lt;/span&gt;

.pull-left[
&lt;img src="media/blank_app.png" width="85%" height="85%" /&gt;
]

.pull-right[
&lt;img src="media/run_app_RStudio.png" width="85%" height="85%" /&gt;
]

---
## An alternative: two-file Shiny apps

&lt;span style = 'font-size:75%;'&gt;While we'll be building both our UI and our server within the same `app.R` file, you may choose to split these into two separate files called `ui.R` and `server.R`. Separating the UI and server can make it easier to navigate and manage code for larger, more complex applications. Note that when splitting your UI and server into separate files, you do not need to include the `shinyApp(ui = ui, server = server)` line of code. &lt;/span&gt;

.pull-left[

```r
library(shiny)

# app.R
ui &lt;- fluidPage(
  sliderInput(inputId = "num",
              label = "Choose a number", 
              value = 25, min = 1, max = 100),
  plotOutput("hist")
)


server &lt;- function(input, output) {
  output$hist &lt;- renderPlot({
    hist(rnorm(input$num))
  })
}


shinyApp(ui = ui, server = server)
```
]

.pull-right[

```r
library(shiny)

# ui.R
ui &lt;- fluidPage(
  sliderInput(inputId = "num",
              label = "Choose a number", 
              value = 25, min = 1, max = 100),
  plotOutput("hist")
)
```


```r
library(shiny)

# server.R
server &lt;- function(input, output) {
  output$hist &lt;- renderPlot({
    hist(rnorm(input$num))
  })
}
```
]

.footnote[
&lt;span style = 'font-size:80%;'&gt;**PRACTICE:** Create a blank, two-file shiny app **in a new directory** (i.e. folder) and run the app. You can do so by clicking the "Run App" button from either the `ui.R` or `server.R` file, or run the command, `runApp("&lt;your_directory_name&gt;")` in the console (this also works for running your single `app.R` file).&lt;/span&gt;
]

---
class: inverse, middle, center

## <svg aria-label="Tools" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>Tools</title><path d="M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"/></svg> Building out your Shiny app

Here, we'll add our first reactive object to our app and establish a general Shiny coding workflow.

---
### Let's first add some text to our app

&lt;span style = 'font-size:80%;'&gt;We'll do this in the **UI** within `fluidPage()`, a layout function that sets up the basic visual structure of the page and scales components in real time to fill all available browser width. Add a title and subtitle to your app (*be sure to separate each with a comma, `,`*), save, and run:&lt;/span&gt;


```r
# user interface ----
ui &lt;- fluidPage(
  
  # app title ----
  "My App Title",
  
  # app subtitle ----
  "Exploring Antarctic Penguins and Temperatures"
  
  )
```

--

&lt;span style = 'font-size:80%;'&gt;Recall that the UI is actually just an HTML document. We can add static HTML elements using [tags](https://shiny.rstudio.com/articles/tag-glossary.html), a list of functions that parallel common HTML tages (e.g. `tags$h1()`) The most common tags also have wrapper functions (e.g. `h1()`). We can use some of these tags to spruce up our text:&lt;/span&gt;


```r
# user interface ----
ui &lt;- fluidPage(
  
  # app title ----
  tags$h1("My App Title"), # alternatively, you can use the h1() wrapper function
  
  # app subtitle ----
  p(strong("Exploring Antarctic Penguins and Temperatures")) 
  
  )
```

---
### Adding inputs and outputs

&lt;span style = 'font-size:80%;'&gt;Next, we will begin to add some inputs and outputs to our `fluidPage()` (anything that you put into `fluidPage()` will end up in our app...and we want inputs and outputs in our app!).&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;**Inputs** are the things that users can interact with (e.g. toggle, slide) and provide values to your app. The Input functions below correspond to the widgets you see on [slide #8](https://ucsb-meds.github.io/shiny-workshop/#8). **Outputs** are the R objects that your user sees (e.g. tables, plots) and are what respond when a user interacts with/changes an input value.&lt;/span&gt;

.pull-left[
**[Inputs functions:](https://mastering-shiny.org/basic-ui.html#inputs)**  
* &lt;span style = 'font-size:80%;'&gt;`actionButton()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt; `actionLink()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`checkboxInput()`&lt;/span&gt;  
* &lt;span style = 'font-size:80%;'&gt;`checkboxGroupInput()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`dateInput()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`dateRangeInput()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`fileInput()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`numericInput()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`passwordInput()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`radioButtons()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`selectInput()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`sliderInput()`&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`submitButton()`&lt;/span&gt; 
* &lt;span style = 'font-size:80%;'&gt;`textInput()`&lt;/span&gt;
]

.pull-right[
**[Output functions:](https://mastering-shiny.org/basic-ui.html#outputs)**
* &lt;span style = 'font-size:80%;'&gt;`dataTableOutput()` (inserts an interactive table)&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`imageOutput()`(inserts an image)&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`plotOutput()` (inserts a plot)&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`verbatimTextOutput()` (inserts text)&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`tableOutput()` (inserts a table)&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`textOutput()` (inserts text)&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;`uiOutput()` (inserts a Shiny UI element)&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;There are also additional specialized `*Output()` functions, like [`plotlyOutput()`](https://www.rdocumentation.org/packages/plotly/versions/4.9.4.1/topics/plotly-shiny) and [`DTOutput()`](https://rstudio.github.io/DT/shiny.html)&lt;/span&gt;
]

---
### Where we're going...

&lt;span style = 'font-size:80%;'&gt;We're going to create a **scatterplot of penguin bill lengths vs. penguin flipper lengths** using the `penguins` data set from the `{palmerpenguins}` package. We'll make this scatterplot *reactive* by adding a `sliderInput` that allows a user to filter the displayed data points by **selecting a range of penguin body masses** (e.g. only plot bill and flipper lengths for penguins with body masses ranging from 4,500 grams to 6,000 grams).&lt;/span&gt;

.pull-left[
&lt;span style = 'font-size:80%;'&gt;**To create a reactive output, we will follow these steps:**&lt;/span&gt;

&lt;span style = 'font-size:70%;'&gt;**1.** Add an input (e.g. `sliderInput`) to the UI that users can interact with&lt;/span&gt;  

&lt;span style = 'font-size:70%;'&gt;**2.** Add an output (e.g. `plotOutput`) to the UI that creates a *placeholder space* to fill with our eventual reactive output&lt;/span&gt;  

&lt;span style = 'font-size:70%;'&gt;**3.** Tell the server how to assemble inputs into outputs&lt;/span&gt;  
]

.pull-right[
&lt;img src="media/reactive_app_v1.gif" title="A gif of our current Shiny app, demonstrating reactivity. At the top left of our app is the title, 'My App Title' in large header font. Beneath it is a subtitle, 'Exploring Antarctic Penguins and Temperatures'. Below the subtitle is the slider input with the label, 'Select a range of body masses (g)'. A gray horizontal slider bar ranges from the values 2,700 to 6,300. The interactive slider value selectors are two round white circles, which, when moved apart from one another highlight the selected value range in blue. The user is adjusting the slider value selectors and the scatterplot of penguin bill length (mm) vs. flipper length (mm) is automatically updating." alt="A gif of our current Shiny app, demonstrating reactivity. At the top left of our app is the title, 'My App Title' in large header font. Beneath it is a subtitle, 'Exploring Antarctic Penguins and Temperatures'. Below the subtitle is the slider input with the label, 'Select a range of body masses (g)'. A gray horizontal slider bar ranges from the values 2,700 to 6,300. The interactive slider value selectors are two round white circles, which, when moved apart from one another highlight the selected value range in blue. The user is adjusting the slider value selectors and the scatterplot of penguin bill length (mm) vs. flipper length (mm) is automatically updating." width="100%" height="100%" /&gt;
]

---
### Input function syntax

&lt;span style = 'font-size:80%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> **All input functions have the same first argument, `inputId`** (**NOTE:** `Id` *not* `ID`), **which is used to connect the front end of your app (the UI) with the back end (the server).** For example, if your UI has an `inputId = "name"`, the server function will access is using the syntax `input$name`. The `inputId` has two constraints: **(1)** it must be a simple string containing only letters, numbers, and underscores, **(2)** it must be unique.&lt;/span&gt;

--

&lt;span style = 'font-size:80%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> Most input functions have a second parameter called `label`, which is used to create a human-readable label for the control, which will appear in the UI.&lt;/span&gt;

--

&lt;span style = 'font-size:80%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> The remaining arguments are unique to each input function. Oftentimes, these include  a `value` parameter, which lets you set the default value of your widget, where applicable.&lt;/span&gt;

--

Some examples: 

```r
sliderInput(inputId = "body_mass", label = "Select a range of body masses (g):", value = c(3000, 4000), ...)

selectInput(inputId = "island", label = "Choose and island:", ...)
```

&lt;span style = 'font-size:80%;'&gt;Check out the interactive [Shiny Widgets Gallery](https://shiny.rstudio.com/gallery/widget-gallery.html) to learn how to implement the most common widgets.&lt;/span&gt;

---
### **Step 1:** Add an input to our app

&lt;span style = 'font-size:80%;'&gt;First let's add a `sliderInput()` that will allow users to select a range of penguin body masses (g).&lt;/span&gt;

```r
# user interface ----
ui &lt;- fluidPage(
  
  # ~ previous code omitted for brevity ~
  
  # body mass slider input ----
  sliderInput(inputId = "body_mass", label = "Select a range of body masses (g):",
              value = c(3000, 4000), min = 2700, max = 6300)
  )
```

--

&lt;span style = 'font-size:80%;'&gt;When you run your app, you should see something similar to the image below. It's operable, but does not yet have an associated output.&lt;/span&gt;

.center[
&lt;img src="media/sliderInput.png" title="A basic Shiny app, with a title that says 'My App Title', a subtitle that says, 'Exploring Palmer Penguins and Antarctic Temperatures, and a slider input with a label that says 'Select a range of body masses (g)'. The slider bar has a minimum value of 2,700 and a maximum value of 6,300, and the moveable slider selectors currently range from 3,000 to 4,000." alt="A basic Shiny app, with a title that says 'My App Title', a subtitle that says, 'Exploring Palmer Penguins and Antarctic Temperatures, and a slider input with a label that says 'Select a range of body masses (g)'. The slider bar has a minimum value of 2,700 and a maximum value of 6,300, and the moveable slider selectors currently range from 3,000 to 4,000." width="70%" height="70%" /&gt;
]

---
### Output function syntax

&lt;span style = 'font-size:80%;'&gt;Outputs in the UI create **placeholders** which are later filled by the server function.&lt;/span&gt;

--

&lt;span style = 'font-size:80%;'&gt;<svg aria-label="angle-right" role="img" viewBox="0 0 256 512" style="height:1em;width:0.5em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#05859B;overflow:visible;position:relative;"><title>angle-right</title><path d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"/></svg> Similar to input functions, **all output functions take the same first argument, `outputId`** (again, note `Id` *not* `ID`), **which connects the front end UI with the back end server.** For example, if your UI has an `outputId = "plot"`, the server function will access it using the syntax `output$plot`.&lt;/span&gt;

Some examples: 

```r
plotOutput(outputId = "bodyMass_plot")

dataTableOutput(outputId = "penguin_data")
```

---
### **Step 2:** Add an output to our app

&lt;span style = 'font-size:70%;'&gt;Let's now add a `plotOutput()` to our app, which will be updated based on the user inputs via the `sliderInput()`.&lt;/span&gt;

```r
# user interface ----
ui &lt;- fluidPage(
  
  # ~ previous code omitted for brevity ~
  
  # body mass slider input ----
  sliderInput(inputId = "body_mass", label = "Select a range of body masses (g):",
              value = c(3000, 4000), min = 2700, max = 6300)
  
  # body mass plot ouput ----
  plotOutput(outputId = "bodyMass_scatterPlot")
  
  )
```

--

&lt;span style = 'font-size:70%;'&gt;Okay, it looks like nothing changed?? Remember, `*Output()` functions create *placeholders*, but we have not yet written the server instructions on how to fill and update those placeholders. We can inspect the HTML and see that there is, in fact, a placeholder area awaiting our eventual output, which will be a plot named "bodyMass_scatterPlot":&lt;/span&gt;

.center[
&lt;img src="media/output_placeholder.png" title="A Google Chrome browser window with our Shiny app open on the left-hand side and the underlying HTML document open on the right. The app looks the same as before, except hovering over the HTML associated with our new plotOutput highlights a blue square region beneath the sliderInput. This highlighted region is the placeholder where our plot will eventually be rendered." alt="A Google Chrome browser window with our Shiny app open on the left-hand side and the underlying HTML document open on the right. The app looks the same as before, except hovering over the HTML associated with our new plotOutput highlights a blue square region beneath the sliderInput. This highlighted region is the placeholder where our plot will eventually be rendered." width="60%" height="60%" /&gt;
]

---
### Rendering outputs

&lt;span style = 'font-size:80%;'&gt;Each `*Output()` function in the UI is coupled with a `render*()` function in the server, which contains the "instructions" for creating the output based on user inputs (or in other words, the instructions for making your output *reactive*). A list of `*Output()` functions and their corresponding `render*()` functions are below:&lt;/span&gt;

&lt;br&gt;

.center[
| Output function        | Render function        |
| ---------------------- | ---------------------- |
| `dataTableOutput()`    | `renderDataTable()`    |
| `imageOutput()`        | `renderImage()`        |
| `plotOutput()`         | `renderPlot()`         |
| `verbatimTextOutput()` | `renderPrint()`        |
| `tableOutput()`        | `renderTable()`        |
| `textOutput()`         | `renderText()`         |
| `uiOutput()`           | `renderUI()`           |
| `plotlyOutput()`       | `renderPlotly()`       |
| `DTOutput()`           | `renderDT()`           |
]

---
### &lt;span style = 'font-size:90%;'&gt;**Step 3:** Tell the server how to assemble inputs into outputs&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;Now that we've designed our input/output in the UI, we need to write the server instructions (i.e. write the server function) on how to actually assemble our input (body mass range via a slider input) into the output (scatter plot).&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;The **server function** is defined with two arguments, `input` and `output`, both of which are list-like objects. You *must* define both of these arguments within the server function. `input` contains the values of all the different inputs at any given time, while `output` is where you'll save output objects to display in the app.&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;This part can be intimidating, but if you follow these three rules, you will successfully create reactivity within your shiny app!&lt;/span&gt;

**Rules:**  

.footnote[
&lt;span style = 'font-size:80%;'&gt;Read more about reactivity in [Ch.3 Basic Reactivity](https://mastering-shiny.org/basic-reactivity.html#basic-reactivity) of [Mastering Shiny](https://mastering-shiny.org/index.html) and check out Shiny's Tutorial, [Display Reactive Output](https://shiny.rstudio.com/tutorial/written-tutorial/lesson4/).&lt;/span&gt;
]

--
**1.** Save objects you want to display to `output$&lt;id&gt;` 

&lt;br&gt;
--
**2.** Build reactive objects using a `render*()` function  

&lt;br&gt;
--
**3.** Access input values with `input$&lt;id&gt;`  

---
### &lt;span style = 'font-size:90%;'&gt;**Rule 1:** Save objects you want to display to `output$&lt;id&gt;`&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;Notice that in our **UI**, we created a placeholder for our plot using the `plotOutput()` function and gave it the Id `"bodyMass_scatterplot"`. In our **server**, we will save our plot to the `output` argument by its `outputId`:&lt;/span&gt;


```r
# user interface ----
ui &lt;- fluidPage(
  
  # ~ previous code omitted for brevity ~
  
  # body mass slider ----
  sliderInput(inputId = "body_mass", label = "Select a range of body masses (g):",
              value = c(3000, 4000), min = 2700, max = 6300),
  
  # body mass plot output ----
  plotOutput(`outputId = "bodyMass_scatterPlot"`) 
  
)

# server instructions ----
server &lt;- function(input, output) {
  
  # render the scatter plot ----
  `output$bodyMass_scatterPlot &lt;-` # code to generate plot here
  
}
```

&lt;span style = 'font-size:80%;'&gt;**Note:** In the **UI**, our `outputId` is quoted (`"bodyMass_scatterPlot"`), but not in the **server** (`bodyMass_scatterPlot`).&lt;/span&gt;
 
---
### &lt;span style = 'font-size:90%;'&gt;**Rule 2:** Build reactive objects with `render*()`&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;Use the appropriate `render*()` function to make your output reactive (e.g. if you have a `plotOutput` in your UI, you will need to use `renderPlot()` in your server).&lt;/span&gt; 

&lt;span style = 'font-size:80%;'&gt;Within your `render*()`,  write any code *inside* a set of curly braces, `{}`. This allows you to include as many lines of code as it takes to build your object.&lt;/span&gt;


```r
# user interface ----
ui &lt;- fluidPage(
  
  # ~ previous code omitted for brevity ~
  
  # body mass slider ----
  sliderInput(inputId = "body_mass", label = "Select a range of body masses (g):",
              value = c(3000, 4000), min = 2700, max = 6300),
  
  # body mass plot output ----
  plotOutput(outputId = "bodyMass_scatterPlot") 
  
)

# server instructions ----
server &lt;- function(input, output) {
  
  # render the scatter plot ----
  `output$bodyMass_scatterPlot &lt;- renderPlot({`
     # code to generate plot here
  `})` 
}
```

---
### &lt;span style = 'font-size:90%;'&gt;**Rule 2:** Build reactive objects with `render*()`&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;**Tip:** I find it easier to experiment and draft my objects (e.g. plots) first in a separate script, then copy the code over to the server after. I want to make a plot that looks like this:&lt;/span&gt;


```r
# practice_penguin_outputs.R
library(palmerpenguins)
library(tidyverse)

ggplot(na.omit(penguins), 
       aes(x = flipper_length_mm, y = bill_length_mm, 
           color = species, shape = species)) +
  geom_point() +
  scale_color_manual(values = c("Adelie" = "#FEA346", "Chinstrap" = "#B251F1", "Gentoo" = "#4BA4A4")) +
  scale_shape_manual(values = c("Adelie" = 19, "Chinstrap" = 17, "Gentoo" = 15)) +
  labs(x = "Flipper length (mm)", y = "Bill length (mm)", 
       color = "Penguin species", shape = "Penguin species") +
  theme_minimal() +
  theme(legend.position = c(0.85, 0.2),
        legend.background = element_rect(color = "white"))
```

&lt;img src="index_files/figure-html/unnamed-chunk-28-1.png" title="A scatterplot of penguin Bill length (mm) vs. Flipper length (mm) for Adelie (orange circles), Chinstrap (purple triangles), and Gentoo (green squares) penguins. For all species, bill length tends to increase with flipper length." alt="A scatterplot of penguin Bill length (mm) vs. Flipper length (mm) for Adelie (orange circles), Chinstrap (purple triangles), and Gentoo (green squares) penguins. For all species, bill length tends to increase with flipper length." width="60%" height="70%" style="display: block; margin: auto;" /&gt;

---
### &lt;span style = 'font-size:90%;'&gt;**Rule 2:** Build reactive objects with `render*()`&lt;/span&gt;

&lt;span style = 'font-size:70%;'&gt;Copy your code over to your app, placing it inside the `{}` (and make sure to add any additional required packages to the top of your `app.R` script). Run your app. What do you notice?&lt;/span&gt;

```r
# user interface ----
ui &lt;- fluidPage(
  
  # ~ previous code omitted for brevity ~
  
  # body mass slider ----
  sliderInput(inputId = "body_mass", label = "Select a range of body masses (g):",
              value = c(3000, 4000), min = 2700, max = 6300),
  
  # body mass plot output ----
  plotOutput(outputId = "bodyMass_scatterPlot")
  
)

# server instructions ----
server &lt;- function(input, output) {
  
  # render the scatter plot ----
  `output$bodyMass_scatterPlot &lt;- renderPlot({` 
      `ggplot(na.omit(penguins),`
             `aes(x = flipper_length_mm, y = bill_length_mm,`
                 `color = species, shape = species)) +` 
        `geom_point() +` 
        `scale_color_manual(values = c("Adelie" = "#FEA346", "Chinstrap" = "#B251F1", "Gentoo" = "#4BA4A4")) +`
        `scale_shape_manual(values = c("Adelie" = 19, "Chinstrap" = 17, "Gentoo" = 15)) +`
        `labs(x = "Flipper length (mm)", y = "Bill length (mm)",` 
             `color = "Penguin species", shape = "Penguin species") +` 
        `theme_minimal() +` 
        `theme(legend.position = c(0.85, 0.2),` 
              `legend.background = element_rect(color = "white"))` 
  `})` 
}
```

---
### A non-reactive plot now lives in our `plotOutput()` placeholder

&lt;span style = 'font-size:80%;'&gt;We have a plot (yay!), but it isn't reactive. We have not yet told the server how to update the plot based on user inputs to the `sliderInput()` in the UI. Let's do that next...&lt;/span&gt;

.pull-left[
&lt;img src="media/app_with_staticPlot1.png" width="100%" height="100%" /&gt;
]

.pull-right[
&lt;img src="media/app_with_staticPlot2.png" width="100%" height="100%" /&gt;
]

---
### Let's first practice in our separate script

&lt;span style = 'font-size:70%;'&gt;First, create a new df where we filter the `body_mass_g` column for observations within a specific range of values:&lt;/span&gt;

--


```r
body_mass_df &lt;- penguins %&gt;%
  filter(body_mass_g %in% 3000:4000) 
```

--

&lt;span style = 'font-size:70%;'&gt;Then, substitute in the new filtered data and plot:&lt;/span&gt;

--


```r
# plot new, filtered data
ggplot(na.omit(`body_mass_df`), # plot 'body_mass_df' rather than 'penguins' df
       aes(x = flipper_length_mm, y = bill_length_mm, 
           color = species, shape = species)) +
  geom_point() +
  scale_color_manual(values = c("Adelie" = "#FEA346", "Chinstrap" = "#B251F1", "Gentoo" = "#4BA4A4")) +
  scale_shape_manual(values = c("Adelie" = 19, "Chinstrap" = 17, "Gentoo" = 15)) +
  labs(x = "Flipper length (mm)", y = "Bill length (mm)", 
       color = "Penguin species", shape = "Penguin species") +
  theme_minimal() +
  theme(legend.position = c(0.85, 0.2),
        legend.background = element_rect(color = "white"))
```

&lt;img src="index_files/figure-html/unnamed-chunk-33-1.png" title="A scatterplot of penguin Bill length (mm) vs. Flipper length (mm) for Adelie (orange circles), Chinstrap (purple triangles), and Gentoo (green squares) penguins. For all species, bill length tends to increase with flipper length." alt="A scatterplot of penguin Bill length (mm) vs. Flipper length (mm) for Adelie (orange circles), Chinstrap (purple triangles), and Gentoo (green squares) penguins. For all species, bill length tends to increase with flipper length." width="60%" height="70%" style="display: block; margin: auto;" /&gt;

---
### Which part of our code needs to be updated when a user changes the slider range input?

--


```r
body_mass_df &lt;- penguins %&gt;%
  filter(body_mass_g %in% `3000:4000`) # 3000:4000 needs to be update-able (or in other words, reactive)! 
```

--

&lt;span style = 'font-size:80%;'&gt;**For example:**&lt;/span&gt;

.pull-left[

```r
body_mass_df &lt;- penguins %&gt;%
  filter(body_mass_g %in% `2857:5903`) 
```

&lt;img src="media/2857_5903.png" title="Our Shiny app with just a title, subtitle, and slider input, where the input values are at a minimum of 2,857 and a maximum of 5,903." alt="Our Shiny app with just a title, subtitle, and slider input, where the input values are at a minimum of 2,857 and a maximum of 5,903." width="100%" height="100%" /&gt;
]

--

.pull-right[

```r
body_mass_df &lt;- penguins %&gt;%
  filter(body_mass_g %in% `3725:5191`) 
```

&lt;img src="media/3725_5191.png" title="Our Shiny app with just a title, subtitle, and slider input, where the input values are at a minimum of 3,725 and a maximum of 5,191." alt="Our Shiny app with just a title, subtitle, and slider input, where the input values are at a minimum of 3,725 and a maximum of 5,191." width="100%" height="100%" /&gt;
]

---
### &lt;span style = 'font-size:90%;'&gt;**Rule 3:** Access input values with `input$&lt;id&gt;`&lt;/span&gt;

&lt;span style = 'font-size:60%;'&gt;In our UI, we gave our `sliderInput()` an `inputId = "body_mass"`.&lt;/span&gt;


```r
# user interface ----
ui &lt;- fluidPage(
  # ~ previous code omitted for brevity ~
  
  # body mass slider ----
  sliderInput(`inputId = "body_mass"`, label = "Select a range of body masses (g):", 
              value = c(3000, 4000), min = 2700, max = 6300),
  
  # body mass plot output ----
  plotOutput(outputId = "bodyMass_scatterPlot")
  
)

# server instructions ----
server &lt;- function(input, output) {
  
  # filter body masses ----  
      body_mass_df &lt;- reactive({ 
        penguins %&gt;% 
          filter(body_mass_g %in% input$body_mass[1]:input$body_mass[2])
      })
    
  # render the scatter plot ----
  output$bodyMass_scatterPlot &lt;- renderPlot({ 
      ggplot(na.omit(body_mass_df(), aes(...)) + # etc. (omitted for brevity)
  }) 
}
```

---
### &lt;span style = 'font-size:90%;'&gt;**Rule 3:** Access input values with `input$&lt;id&gt;`&lt;/span&gt;

&lt;span style = 'font-size:60%;'&gt;In our UI, we gave our `sliderInput()` an `inputId = "body_mass"`. In our server, we can access the values of that slider input using the syntax, `input$body_mass`. If you want your output to change according to the input values, substitute hard-coded values (e.g. ` 3725:5191`) with the input values from the UI (e.g. `input$body_mass[1]:input$body_mass[2]`).&lt;/span&gt;



```r
# user interface ----
ui &lt;- fluidPage(
  # ~ previous code omitted for brevity ~
  
  # body mass slider ----
  sliderInput(`inputId = "body_mass"`, label = "Select a range of body masses (g):", 
              value = c(3000, 4000), min = 2700, max = 6300),
  
  # body mass plot output ----
  plotOutput(outputId = "bodyMass_scatterPlot")
  
)

# server instructions ----
server &lt;- function(input, output) {
  
  # filter body masses ----  
      body_mass_df &lt;- reactive({ 
        penguins %&gt;%  
          filter(body_mass_g %in% `input$body_mass[1]:input$body_mass[2]`) 
      })  
    
  # render the scatter plot ----
  output$bodyMass_scatterPlot &lt;- renderPlot({ 
      
      ggplot(na.omit(body_mass_df(), aes(...)) + # etc. (omitted for brevity) 
  }) 
}
```

---
### &lt;span style = 'font-size:90%;'&gt;**Rule 3:** Access input values with `input$&lt;id&gt;`&lt;/span&gt;

&lt;span style = 'font-size:60%;'&gt;In our UI, we gave our `sliderInput()` an `inputId = "body_mass"`. In our server, we can access the values of that slider input using the syntax, `input$body_mass`. If you want your output to change according to the input values, substitute hard-coded values (e.g. ` 3725:5191`) with the input values from the UI (e.g. `input$body_mass[1]:input$body_mass[2]`).&lt;/span&gt;

&lt;span style = 'font-size:60%;'&gt;**Importantly**, just as we have used `render*()` to produce a reactive output, we need to use `reactive()` to create reactive data frames that update with user inputs. When you call your reactive data frame in your ggplot, **the data frame name must be followed by `()`**.&lt;/span&gt;


```r
# user interface ----
ui &lt;- fluidPage(
  # ~ previous code omitted for brevity ~
  
  # body mass slider ----
  sliderInput(`inputId = "body_mass"`, label = "Select a range of body masses (g):",
              value = c(3000, 4000), min = 2700, max = 6300),
  
  # body mass plot output ----
  plotOutput(outputId = "bodyMass_scatterPlot")
  
)

# server instructions ----
server &lt;- function(input, output) {
  
  # filter body masses ----
      `body_mass_df &lt;- reactive({` 
        `penguins %&gt;%`  
          `filter(body_mass_g %in% input$body_mass[1]:input$body_mass[2])` 
      `})`
    
  # render the scatter plot ----
  output$bodyMass_scatterPlot &lt;- renderPlot({ 
      
      ggplot(na.omit(`body_mass_df()`, aes(...)) + # etc. (omitted for brevity) 
  }) 
}
```

---
### Okay, RUN THAT APP!

&lt;span style = 'font-size:80%;'&gt;You should now have a reactive Shiny app! *Note that reactivity automatically occurs whenever you use an **input value** to **render** an **output object**.*&lt;/span&gt;

.center[
&lt;img src="media/reactive_app_v1.gif" title="A gif of our current Shiny app, demonstrating reactivity. At the top left of our app is the title, 'My App Title' in large header font. Beneath it is a subtitle, 'Exploring Antarctic Penguins and Temperatures'. Below the subtitle is the slider input with the label, 'Select a range of body masses (g)'. A gray horizontal slider bar ranges from the values 2,700 to 6,300. The interactive slider value selectors are two round white circles, which, when moved apart from one another highlight the selected value range in blue. The user is adjusting the slider value selectors and the scatterplot of penguin bill length (mm) vs. flipper length (mm) is automatically updating." alt="A gif of our current Shiny app, demonstrating reactivity. At the top left of our app is the title, 'My App Title' in large header font. Beneath it is a subtitle, 'Exploring Antarctic Penguins and Temperatures'. Below the subtitle is the slider input with the label, 'Select a range of body masses (g)'. A gray horizontal slider bar ranges from the values 2,700 to 6,300. The interactive slider value selectors are two round white circles, which, when moved apart from one another highlight the selected value range in blue. The user is adjusting the slider value selectors and the scatterplot of penguin bill length (mm) vs. flipper length (mm) is automatically updating." width="60%" height="60%" /&gt;
]

---
### Recap so far:

We created our first *reactive* Shiny app by following these steps:

--

1. &lt;span style = 'font-size:80%;'&gt;We created an `app.R` file and began our app with the template&lt;/span&gt;
    * &lt;span style = 'font-size:80%;'&gt;We saved `app.R` to its own directory where we will also save any other scripts/files used by the app&lt;/span&gt;
      * &lt;span style = 'font-size:80%;'&gt;You can also create two-file Shiny apps by creating separate `ui.R` and `server.R` files&lt;/span&gt;
--
2. &lt;span style = 'font-size:80%;'&gt;We added an `input()` to the `fluidPage()` in our **UI** and gave it an `inputId`&lt;/span&gt;
    * &lt;span style = 'font-size:80%;'&gt;`inputId`s are surrounded by quotes, `""` (e.g. `inputId = "input_name"`)&lt;/span&gt;
--
3. &lt;span style = 'font-size:80%;'&gt;We created a placeholder for our reactive object using an `*Output()` function in the `fluidPage()` in our **UI** and gave it an `outputId`&lt;/span&gt;
    * &lt;span style = 'font-size:80%;'&gt;`outputId`'s are also surrounded by quotes, `""` (e.g. `outputId = "output_name"`)&lt;/span&gt;
--
4. &lt;span style = 'font-size:80%;'&gt;We wrote the **server** instructions for how to assemble inputs into outputs, following these rules:&lt;/span&gt;
    * &lt;span style = 'font-size:80%;'&gt;save objects that you want to display to `output$&lt;id&gt;`&lt;/span&gt;
    * &lt;span style = 'font-size:80%;'&gt;build reactive objects using a `render*()` function&lt;/span&gt;  
      * &lt;span style = 'font-size:80%;'&gt;similarly, build reactive data frames using `reactive()`&lt;/span&gt;  
    * &lt;span style = 'font-size:80%;'&gt;access input values with `input$&lt;id&gt;`&lt;/span&gt;  

--

And we saw that reactivity automatically occurs whenever we use an **input value** to **render** an **output object**.

---
### **Exercise 1:** Add another widget to your app!

&lt;span style = 'font-size:80%;'&gt;`{DT}` is a package that provides an R interface to the JavaScript library [DataTables](https://datatables.net/) (you may have already used the `DT` package in your knitted RMarkdown HTML documents!). DataTables provides filtering, pagination, sorting, and lots of other neat features for tables on your HTML pages.&lt;/span&gt;

.center[
&lt;img src="media/DT_datatable.gif" title="A gif of an interactive DT data table, displaying the penguins data set from the palmerpenguins R package. Five rows of data (out of the 344 rows) are displayed as the default. The cursor first moves to bottom of the table to click on page 2 then page 3 to display rows 6-10 then 11-15. The cursor is then moved to the 'Previous' button, which is directly to the left the page numbers and clicks twice to move back to the first page, displaying rows 1-5 again. The cursor then moves to a small drop down selector at the top left corner of the table which allows the user to select the number of entries (i.e. rows) to display. The user changes the selection from the default 5 rows to 10 rows. The cursor is then used to click into the 'Search' box at the top right of the table. The user types in 'Gentoo' to filter for any instances of 'Gentoo' throughout the displayed data table. The user deletes the word 'Gentoo' from the search box and the data returns to displaying all unfiltered data. The cursor is moved to the column labeled 'bill_depth_mm' and clicks on a small upward facing carrot to the right of the column name. This arranges the values from smallest to largest. It then clicks on the downward facing carrot to arrange the values from largest to smallest. Finally, the cursor is used to click on the upward facing carrot next to the 'species' column name to arrange species names in alphabetical order. Clicking the downward facing carrot arranges obserations in reverse alphabetical order, though the gif cuts out before the results are fully displayed." alt="A gif of an interactive DT data table, displaying the penguins data set from the palmerpenguins R package. Five rows of data (out of the 344 rows) are displayed as the default. The cursor first moves to bottom of the table to click on page 2 then page 3 to display rows 6-10 then 11-15. The cursor is then moved to the 'Previous' button, which is directly to the left the page numbers and clicks twice to move back to the first page, displaying rows 1-5 again. The cursor then moves to a small drop down selector at the top left corner of the table which allows the user to select the number of entries (i.e. rows) to display. The user changes the selection from the default 5 rows to 10 rows. The cursor is then used to click into the 'Search' box at the top right of the table. The user types in 'Gentoo' to filter for any instances of 'Gentoo' throughout the displayed data table. The user deletes the word 'Gentoo' from the search box and the data returns to displaying all unfiltered data. The cursor is moved to the column labeled 'bill_depth_mm' and clicks on a small upward facing carrot to the right of the column name. This arranges the values from smallest to largest. It then clicks on the downward facing carrot to arrange the values from largest to smallest. Finally, the cursor is used to click on the upward facing carrot next to the 'species' column name to arrange species names in alphabetical order. Clicking the downward facing carrot arranges obserations in reverse alphabetical order, though the gif cuts out before the results are fully displayed." width="90%" height="90%" /&gt;
]

---
### **Exercise 1:** Add another widget to your app!

&lt;span style = 'font-size:80%;'&gt;`{DT}` is a package that provides an R interface to the JavaScript library [DataTables](https://datatables.net/) (you may have already used the `DT` package in your knitted RMarkdown HTML documents!). DataTables provides filtering, pagination, sorting, and lots of other neat features for tables on your HTML pages.&lt;/span&gt;

&lt;span style = 'font-size:90%;'&gt;**To Do:**&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Add a `DT` data table to your Shiny app that displays the `penguins` data set from the `{palmerpenguins}` R package&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Update the page length to display 5 rows (rather than the default 10 rows)&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Add an *italicized* caption above the top left corner of your table&lt;/span&gt;

&lt;span style = 'font-size:90%;'&gt;**Some tips to get you started:**&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Remember, it can help to draft your R object (in this case, a `DT::datatable`) in a separate script&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Both `shiny` and `DT` packages have functions named `dataTableOutput()` and `renderDataTable()`. `DT::renderDataTable()` allows you to create both server-side and client-side DataTables and supports additional DataTables features while `shiny::renderDataTable()` only provides server-side DataTables. Be sure to specify that you want to use functions from the `DT` package.&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Check out this helpful article, [How to use DataTables in a Shiny App](https://shiny.rstudio.com/articles/datatables.html), by Yihui Xie, for a minimal reproducible example and some info on how to get started on customizing your table further&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Explore the [`DT` documentation](https://rstudio.github.io/DT/) to learn how to add table captions&lt;/span&gt;

---
### **Exercise 1:** Solution for adding a `DT` table

&lt;span style = 'font-size:80%;'&gt;**Note:** No `*Input()` is needed here.&lt;/span&gt;


```r
# user interface ----
ui &lt;- fluidPage(
  
  # ~ previous code omitted for brevity ~
  
  # penguin data table output
  DT::dataTableOutput(outputId = "penguin_data")
  
)

# server instructions ----
server &lt;- function(input, output) {
  
  #  ~ previous code omitted for brevity ~
  
  # render the penguins data table ----
  output$penguin_data &lt;- DT::renderDataTable({
    
    DT::datatable(penguins,
                  options = list(pageLength = 5),
                  caption = htmltools::tags$caption(
                    style = 'caption-side: top; text-align: left;',
                    'Table 1: ', htmltools::em('Size measurements for adult foraging penguins near Palmer Station, Antarctica')))
    
  })
}
```

---
class: inverse, middle, center

## <svg aria-label="Upload" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>Upload</title><path d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"/></svg> Publishing your first Shiny app

Sharing your Shiny app with others isn't so easy when it just lives on your computer (and your R session has to act as the server that powers it). We'll now learn how to host your app using [shinyapps.io](https://www.shinyapps.io/), a free service for sharing your Shiny apps online.

---
### Connect your shinyapps.io account to RStudio

&lt;span style = 'font-size:80%;'&gt;Go to [shinyapps.io](https://www.shinyapps.io/) and login or create an account (if you don't already have one).&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;To use shinyapps.io, you first need to link your account with RStudio on your computer. Follow the instructions on shinyapps.io when you first create your account to install `{rsconnect}` and authorize your account:&lt;/span&gt;

.center[
&lt;img src="media/shinyapps_setup.png" width="80%" height="80%" /&gt;
]

---
### Deploy your app to shinyapps.io

&lt;span style = 'font-size:80%;'&gt;Once your account has been authorized, run `rsconnect::deployApp("&lt;app_directory_name&gt;")` in your console to deploy your app to shinyapps.io. Alternatively, you can click on the "Publish",&lt;img src="media/publish.png" alt="The word 'Publish' in black text with a small, black down facing arrow to its right. To the left of 'Publish' is a small blue circle icon with a split blue outer circle." style="display: inline-block; margin: 0; position: relative; top: 3px; width:65px;height:20px;"/&gt;, button in the top right corner of your app.&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;Once deployed, a browser will open to your application. The URL will take the form: https://username.shinyapps.io/your_app_directory_name&lt;/span&gt;

.center[
&lt;img src="media/deployed_app_v1.png" title="My app open in a browswer at https://samanthacsik.shinyapps.io/myapp/" alt="My app open in a browswer at https://samanthacsik.shinyapps.io/myapp/" width="50%" height="50%" /&gt;
]

???
You will get this error if your app directory name has less than 4 characters long: `Request Validation Error: : field 'name': is invalid application name. application name must be at least 4 characters, and may only contain letters, numbers, dashes and hyphens.`

---
### The shinyapps.io dashboard

&lt;span style = 'font-size:80%;'&gt;Your shinyapps.io dashboard provides tons of information about your application(s) metrics, instance (the virtualized server that your app is hosted on) and worker (a special type of R process that an Application Instance runs to service requests to an application) settings, plan management, and more. The free plan (the plan we're using here today) allows you to deploy **five** Shiny apps.&lt;/span&gt;

.center[
&lt;img src="media/shinyapps.io_dashboard.png" title="A view of a shinyapps.io dashboard" alt="A view of a shinyapps.io dashboard" width="70%" height="70%" /&gt;
]

&lt;span style = 'font-size:80%;'&gt;Check out the [shinyapps.io user guide](https://docs.rstudio.com/shinyapps.io/index.html) by the RStudio team for more information on hosting your apps on shinyapps.io.&lt;/span&gt;

---
### Other ways to host your Shiny apps

[continue filling out this slide including *why* you'd choose to use something other than shinyapps.io]

[shinyapps.io](https://www.shinyapps.io/) is not the only Shiny app hosting service (though it's the easiest to get started with and the only one we'll be covering in detail in this workshop).

* https://shiny.rstudio.com/articles/shiny-server.html (shiny server)
* r-bloggers.com/2019/02/deploying-an-r-shiny-app-with-docker/ (docker)

---
class: inverse, center, middle

## <svg aria-label="Columns" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>Columns</title><path d="M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"/></svg> Layouts

Up until now, we have been adding our text and widgets to our UI in a pretty unstructured way -- elements stack one on top of the other within a single column. Next, we'll learn how to customize the layout of our application to make it a bit more visually pleasing. 

---
### &lt;span style = 'font-size:80%;'&gt;Layout functions provide the high-level visual structure of your app&lt;/span&gt;

&lt;span style = 'font-size:70%;'&gt;Layouts are created using a hierarchy of function calls **inside** `fluidPage()`. You'll find some minimal examples of these layout functions on the following slides.&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;**Some useful layout function pairings:**&lt;/span&gt;

```r
# sidebar for inputs &amp; main area for outputs within the sidebarLayout() container
sidebarLayout(
  sidebarPanel(),
  mainPanel()
)

# multi-row fluid layout (add any number of fluidRow()s to a fluidPage())
fluidRow(
  column(4, ...),
  column(8, ...)
)

# tabPanel()s to contain HTML components (e.g. inputs/outputs) within the tabsetPanel() container
tabsetPanel(
  tabPanel()
)

# page with top-level navigation bar that can be used to toggle tabPanel() elements
navbarPage(
  tabPanel()
)
```

.footnote[
&lt;span style = 'font-size:70%;'&gt;**Note:** Under the hood, `fluidPage()` sets up all the HTML, CSS, and Javascript that Shiny needs. It's a super important function! Therefore, all layout functions are called inside `fluidPage()`. Check out the documentation for `fixedPage()` and `fillPage()` which may be substituted for `fluidPage()` in more specialized situations.&lt;/span&gt;
]

---
### Layouts: create a sidebar and main area

&lt;span style = 'font-size:80%;'&gt;To create a **page with a side bar and main area** to contain your inputs and outputs (respectively), explore the following layout functions and read up on the [sidebarLayout documentation](https://shiny.rstudio.com/reference/shiny/1.6.0/sidebarLayout.html):&lt;/span&gt;

.pull-left[

```r
fluidPage(
  titlePanel(
    # app title/description
  ),
  sidebarLayout(
    sidebarPanel(
      # inputs here
    ),
    mainPanel(
      # outputs here
    )
  )
)
```
]

.pull-right[
&lt;img src="media/sidebar_layout.png" title="A simplified schematic of a Shiny app with a sidebar layout. The page as a whole is created with the fluidPage() function. The titlePanel() function creates a row at the top of the page for a title. The sidebarLayout() function creates a new row below titlePanel(). Within the sidebarLayout(), there are two side-by-side columns created using the sidebarPanel() function (to the left) and the mainPanel() function (to the right)." alt="A simplified schematic of a Shiny app with a sidebar layout. The page as a whole is created with the fluidPage() function. The titlePanel() function creates a row at the top of the page for a title. The sidebarLayout() function creates a new row below titlePanel(). Within the sidebarLayout(), there are two side-by-side columns created using the sidebarPanel() function (to the left) and the mainPanel() function (to the right)." width="100%" height="100%" /&gt;
]

.center[
&lt;span style = 'font-size:60%;'&gt;Example adapted from [Mastering Shiny, Ch 6.2.2](https://mastering-shiny.org/action-layout.html#page-with-sidebar), by Hadley Wickham&lt;/span&gt;
]

---
### Layouts: create a page with fluid layout

&lt;span style = 'font-size:80%;'&gt;To create a **page with multiple rows**, explore the following layout functions and check out the [fluid layout documentation](https://shiny.rstudio.com/reference/shiny/1.6.0/fluidPage.html). Note that each row is made up of **12** columns. The first argument of the `column()` function takes a value of 1-12 to specify the number of columns to occupy.&lt;/span&gt;

.pull-left[

```r
fluidPage(
  fluidRow(
    column(4, 
      ...
    ),
    column(8, 
      ...
    )
  ),
  fluidRow(
    column(6, 
      ...
    ),
    column(6, 
      ...
    )
  )
)
```
]

.pull-right[
&lt;img src="media/multirow_layout.png" title="A simplified schematic of a Shiny app with a multi-row layout. The page as a whole is created with the fluidPage() function. Within that, the fluidRow() function is used twice to create two stacked (one atop the other) rows on the page. Within each fluidRow are two side-by-side columns, each created using the column() function. Each row is made up of 12 columns. The column() function takes a value of 1-12 as the first arguement to specify how many of those 12 columns to occupy." alt="A simplified schematic of a Shiny app with a multi-row layout. The page as a whole is created with the fluidPage() function. Within that, the fluidRow() function is used twice to create two stacked (one atop the other) rows on the page. Within each fluidRow are two side-by-side columns, each created using the column() function. Each row is made up of 12 columns. The column() function takes a value of 1-12 as the first arguement to specify how many of those 12 columns to occupy." width="100%" height="100%" /&gt;
]

.center[
&lt;span style = 'font-size:60%;'&gt;Example adapted from [Mastering Shiny, Ch 6.2.3](https://mastering-shiny.org/action-layout.html#multi-row), by Hadley Wickham&lt;/span&gt;
]

---
### Layouts: create a tabset panel

&lt;span style = 'font-size:70%;'&gt;You may find that you eventually end up with too much content to fit on a single application page. Enter `tabsetPanel()` and `tabPanel()`. `tabsetPanel()` creates a container for any number of `tabPanel()`s. Each `tabPanel()` can contain any number of HTML components (e.g. inputs and outputs). Find the [tabsetPanel documentation here](https://shiny.rstudio.com/reference/shiny/1.5.0/tabsetPanel.html) and check out this example:&lt;/span&gt;

.pull-left[

```r
ui &lt;- fluidPage(
  tabsetPanel(
    tabPanel("Tab 1", 
      # an input
      # an output
    ),
    tabPanel("Tab 2"),
    tabPanel("Tab 3")
  )
)
```

]

.pull-right[
&lt;img src="media/tabsetPanel_layout.png" title="A simplified schematic of a Shiny app with a tabsetPanel layout. The page as a whole is created with the fluidPage() function. Within that, the tabsetPanel() function creates a container within which three tabPanel()s ('Tab 1', 'Tab 2', 'Tab 3') are defined (for this particular example). Tab 1 is highlighted and has placeholder text which says '# an input' and then on the line below, '# an output'." alt="A simplified schematic of a Shiny app with a tabsetPanel layout. The page as a whole is created with the fluidPage() function. Within that, the tabsetPanel() function creates a container within which three tabPanel()s ('Tab 1', 'Tab 2', 'Tab 3') are defined (for this particular example). Tab 1 is highlighted and has placeholder text which says '# an input' and then on the line below, '# an output'." width="100%" height="100%" /&gt;
]

.center[
&lt;span style = 'font-size:60%;'&gt;Example adapted from [Mastering Shiny, Ch 6.3.1](https://mastering-shiny.org/action-layout.html#tabsets), by Hadley Wickham&lt;/span&gt;
]

---
### Layouts: create a navigation bar with tabsets

&lt;span style = 'font-size:70%;'&gt;You may also want to use a navigation bar (`navbarPage()`) with different pages (created using `tabPanel()`) to organize your application. Read through the [navbarPage documentation](https://shiny.rstudio.com/reference/shiny/1.6.0/navbarPage.html) and try running the example below:&lt;/span&gt;

.pull-left[

```r
ui &lt;- fluidPage(
  navbarPage(
    "My app",
    tabPanel("Tab 1",
             # an input
             # an output
             ),
    tabPanel("Tab 2")
  )
)
```

]

.pull-right[
&lt;img src="media/navbarPage_layout.png" title="A simplified schematic of a Shiny app with a navbarPage layout. The page as a whole is created with the fluidPage() function. Within that, the navbarPage() function creates a top-level navigation bar that can be used to toggle between two tabPanel()s ('Tab 1', 'Tab 2'), which are definted for this particular example. Tab 1 is highlighted and has placeholder text which says '# an input' and then on the line below, '# an output'." alt="A simplified schematic of a Shiny app with a navbarPage layout. The page as a whole is created with the fluidPage() function. Within that, the navbarPage() function creates a top-level navigation bar that can be used to toggle between two tabPanel()s ('Tab 1', 'Tab 2'), which are definted for this particular example. Tab 1 is highlighted and has placeholder text which says '# an input' and then on the line below, '# an output'." width="100%" height="100%" /&gt;
]

.center[
&lt;span style = 'font-size:60%;'&gt;Example adapted from [Mastering Shiny, Ch 6.3.2](https://mastering-shiny.org/action-layout.html#navlists-and-navbars), by Hadley Wickham&lt;/span&gt;
]
---
### **Exercise 2:** Outline your app's layout

&lt;span style = 'font-size:80%;'&gt;Take some time to experiment and outline your application's appearance using the layout functions we've just reviewed. If you need some inspiration, take a look at the minimal reproducible examples on the following slides.&lt;/span&gt;

**To Do:**
* &lt;span style = 'font-size:80%;'&gt;Outline your Shiny app creating space to fill with the following text/R objects:
    * application intro/background info
    * reactive `palmerpenguins` scatterplot (*we've already created this one together*)
    * reactive `palmerpenguins` histogram
    * `palmerpenguins` `DT` table (*we've created this one already too*)
    * reactive Palmer weather plot
    * reactive Palmer weather `DT` table

**Some tips to get you started:**
* &lt;span style = 'font-size:80%;'&gt;Sketch out your layout with a pen and paper first! It's worth noting that you'll likely choose to start with this step (followed by coding up your UI layout) before building any inputs/outputs/etc. as you start to build your own apps.&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Add some text to note where your intended inputs/outputs should live (e.g. `tabPanel("scatterplot input &amp; output here")`.)&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Temporarily comment out the inputs/outputs/text in your UI while you build out your layout functions. We'll un-comment them and move them to the appropriate tabs, etc. once we have a layout we like.&lt;/span&gt;

---
### **Example A:** a multi-row layout using `fluidRows()`


```r
# load libraries ----
library(shiny)

# ui ----
ui &lt;- fluidPage(
  titlePanel("Exploring Antarctic Penguins &amp; Weather"),
  fluidRow(
    h3("Background"),
    column(12, br(), em("some background info here"))
  ),
  fluidRow(
    h3("Antarctic Penguins"),
    column(3, em("scatterplot sliderInput here"), br(), em("histogram selectInput here")),
    column(9, em("reactive scatterplot output here"), br(), em("reactive histogram output here"))
  ),
  fluidRow(
    h3("Antarctic Weather"),
    column(3, em("some input here")),
    column(9, em("some output here"))
  ),
  fluidRow(
    h3("Explore the Data"),
    column(12, em("penguin DT here")),
    column(12, em("weather DT here"))
  )
)

# server instructions ----
server &lt;- function(input, output) {}

# run app ----
shinyApp(ui = ui, server = server)
```

---
### **Example B:** a multi-row layout using `fluidRows()`

&lt;span style = 'font-size:80%;'&gt;The application built using the code on the previous slide:&lt;/span&gt;

.center[
&lt;img src="media/ex_fluidRows.png" width="100%" height="100%" /&gt;
]

---
### **Example B:** a navigation bar with `tabPanel()`s and nested `tabsetPanel()`s


```r
# load packages ----
library(shiny)

# ui ----
ui &lt;- fluidPage(
  navbarPage(
    "Exploring Antarctic Penguins &amp; Weather",
    tabPanel("Background",
             em("some background information here")),
    tabPanel("Antarctic Penguins",
             tabsetPanel(
               tabPanel("Scatterplot",
                        em("scatterplot input &amp; output here")),
               tabPanel("Histogram",
                        em("histogram input &amp; output here")))),
    tabPanel("Antarctic Weather",
             em("some widget to explore weather data here")),
    tabPanel("Explore the Data",
             tabsetPanel(
               tabPanel("Penguin Data",
                        em("penguin DT here")),
               tabPanel("Palmer Station Weather Data",
                        em("weather DT here"))))
    )
  )

# server instructions ----
server &lt;- function(input, output) {}

# run app
shinyApp(ui = ui, server = server)
```

---
### **Example B:** a navigation bar with `tabPanel()`s and nested `tabsetPanel()`s

&lt;span style = 'font-size:80%;'&gt;The application built using the code on the previous slide:&lt;/span&gt;

&lt;br&gt;

.center[
&lt;img src="media/ex_navbar_tabset.gif" title="An empty shiny app with a navbar layout. The navbar is colored light gray and spans the width of the screen at the top of the webpage. The navbar title, 'Exploring Antarctice Penguins &amp;amp; Weather,' is written in large text on the left hand side of the navbar. The cursor is used to click on the navbar tabs, 'Background', 'Antarctic Penguins', 'Antarctic Weather', and 'Explore the Data' which are set next to one another immediately to the right of the navbar title. Italicized placeholder text is included in each navbar tab page. Clicking on the 'Antarctic Penguins' and 'Explore the Data' navbar tabs reveals nested tabsets within those pages. Under 'Antarctic Penguins', the cursor can click on the 'Scatterplot' or 'Histogram' tabsets. Under 'Explore the Data', the cursor can click on the 'Penguin Data' or 'Palmer Station Weather Data' tabsets." alt="An empty shiny app with a navbar layout. The navbar is colored light gray and spans the width of the screen at the top of the webpage. The navbar title, 'Exploring Antarctice Penguins &amp;amp; Weather,' is written in large text on the left hand side of the navbar. The cursor is used to click on the navbar tabs, 'Background', 'Antarctic Penguins', 'Antarctic Weather', and 'Explore the Data' which are set next to one another immediately to the right of the navbar title. Italicized placeholder text is included in each navbar tab page. Clicking on the 'Antarctic Penguins' and 'Explore the Data' navbar tabs reveals nested tabsets within those pages. Under 'Antarctic Penguins', the cursor can click on the 'Scatterplot' or 'Histogram' tabsets. Under 'Explore the Data', the cursor can click on the 'Penguin Data' or 'Palmer Station Weather Data' tabsets." width="80%" height="80%" /&gt;
]

---
### **Exercise 3:** Add scatterplot and `DT` table inputs/outputs back into your app's UI

&lt;span style = 'font-size:80%;'&gt;Now that you have the bones of your application's UI layout coded up, it's time to add back in your inputs and outputs.&lt;/span&gt;

**Some tips to get you started:**
* &lt;span style = 'font-size:80%;'&gt;Copy inputs and outputs from our original app (the one built just using `fluidPage()` to contain all of our elements) and paste them into the new application's layout function framework&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Be mindful of `()` when copying/pasting -- make sure you don't leave any behind by accident (**Tip:** enable Rainbow Parentheses (under 'Code' in the menu bar) if you haven't already)&lt;/span&gt;
* &lt;span style = 'font-size:80%;'&gt;Remember to separate UI elements with a `,`&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;If you want to reproduce the app I'm building, start with the layout structure detailed on [slide #60](https://ucsb-meds.github.io/shiny-workshop/#86) (*Example B: a navigation bar with `tabPanel()`s and nested `tabsetPanel()`s*) &lt;/span&gt;

---
### My app, so far:

**UI:**

```r
ui &lt;- fluidPage(
  navbarPage(
    "Exploring Antarctic Penguins &amp; Weather",
    tabPanel("Background",
             em("some background information here")),
    tabPanel("Antarctic Penguins",
             tabsetPanel(
               `tabPanel("Scatterplot",` 
                        # body mass slider input ---- 
                        `sliderInput(inputId = "body_mass", label = "Select a range of body masses (g):",` 
                                    `value = c(3000, 4000), min = 2700, max = 6300),`
                        # body mass plot output ---- 
                        `plotOutput(outputId = "bodyMass_scatterPlot")),` 
               tabPanel("Histogram",
                        em("histogram input &amp; output here")))),
    tabPanel("Antarctic Weather",
             em("some widget to explore weather data here")),
    tabPanel("Explore the Data",
             tabsetPanel(
               `tabPanel("Penguin Data",`
                        # penguin data table output ---- 
                        `DT::dataTableOutput(outputId = "penguin_data")),` 
               tabPanel("Palmer Station Weather Data",
                        em("weather DT here"))))
  )
)
```

.footnote[
**Note:** I've collapsed my parentheses all into the same rows so that the code fit on one slide...but I'd recommend pressing `return`/`enter` each time you open up a new set of parentheses to better keep track of what belongs where. Also, enable rainbow parentheses!
]

---
### My app, so far:

**Server:**

```r
server &lt;- function(input, output) {
  
  # filter body masses ----
  body_mass_df &lt;- reactive({
    penguins %&gt;%
      filter(body_mass_g %in% input$body_mass[1]:input$body_mass[2])
    })

  # render the scatter plot ----
  output$bodyMass_scatterPlot &lt;- renderPlot({

    ggplot(na.omit(body_mass_df()),
           aes(x = flipper_length_mm, y = bill_length_mm, color = species, shape = species)) +
      geom_point() +
      scale_color_manual(values = c("#FEA346", "#B251F1", "#4BA4A4")) +
      scale_shape_manual(values = c(19, 17, 15)) +
      labs(x = "Flipper length (mm)", y = "Bill length (mm)",
           color = "Penguin species", shape = "Penguin species") +
      theme_minimal() +
      theme(legend.position = c(0.85, 0.2),
            legend.background = element_rect(color = "white"))
  })
  
  # render the penguins data table ----
  output$penguin_data &lt;- DT::renderDataTable({
    DT::datatable(penguins,
                  options = list(pageLength = 5),
                  caption = htmltools::tags$caption(
                    style = 'caption-side: top; text-align: left;',
                    'Table 1: ', htmltools::em('Size measurements for adult foraging penguins near Palmer Station, Antarctica')))
  })
}
```

---
### My app, so far:

&lt;span style = 'font-size:80%;'&gt;The code from the previous two slides produces:&lt;/span&gt;

.center[
&lt;img src="media/reactive_app_v2.gif" title="An empty shiny app with a navbar layout. The navbar is colored light gray and spans the width of the screen at the top of the webpage. The navbar title, 'Exploring Antarctice Penguins &amp;amp; Weather,' is written in large text on the left hand side of the navbar. The cursor is used to click on the navbar tabs, 'Background', 'Antarctic Penguins', 'Antarctic Weather', and 'Explore the Data' which are set next to one another immediately to the right of the navbar title. Italicized placeholder text is included in each navbar tab page. Clicking on the 'Antarctic Penguins' and 'Explore the Data' navbar tabs reveals nested tabsets within those pages. Under 'Antarctic Penguins', the cursor can click on the 'Scatterplot' or 'Histogram' tabsets. Now that we've added our inputs and outputs into this framework however, we can now see our reactive scatterplot that we built earlier in the workshop. Under 'Explore the Data', the cursor can click on the 'Penguin Data' or 'Palmer Station Weather Data' tabsets. Under 'Penguin Data' now lives the DT::dataTable with the penguins dataset that we built earlier in the workshop." alt="An empty shiny app with a navbar layout. The navbar is colored light gray and spans the width of the screen at the top of the webpage. The navbar title, 'Exploring Antarctice Penguins &amp;amp; Weather,' is written in large text on the left hand side of the navbar. The cursor is used to click on the navbar tabs, 'Background', 'Antarctic Penguins', 'Antarctic Weather', and 'Explore the Data' which are set next to one another immediately to the right of the navbar title. Italicized placeholder text is included in each navbar tab page. Clicking on the 'Antarctic Penguins' and 'Explore the Data' navbar tabs reveals nested tabsets within those pages. Under 'Antarctic Penguins', the cursor can click on the 'Scatterplot' or 'Histogram' tabsets. Now that we've added our inputs and outputs into this framework however, we can now see our reactive scatterplot that we built earlier in the workshop. Under 'Explore the Data', the cursor can click on the 'Penguin Data' or 'Palmer Station Weather Data' tabsets. Under 'Penguin Data' now lives the DT::dataTable with the penguins dataset that we built earlier in the workshop." width="80%" height="80%" /&gt;
]

---
### Republish our app

&lt;span style = 'font-size:80%;'&gt;Now that we've refined our application's layout a bit more, let's republish to [shinyapps.io](https://shinyapps.io/). To do so:&lt;/span&gt;  

--

  

&lt;span style = 'font-size:80%;'&gt;**1.** Rerun `rsconnect::deployApp("&lt;app_directory_name&gt;")` in your console and select `Y` when you see the prompt, `Update application currently deployed at https:://githubUserName.shinapps.io/yourAppName? [Y/n]`&lt;/span&gt;    

--

&lt;span style = 'font-size:80%;'&gt;**2.** Give it a minute (or a few) to deploy. It should open up a browser window with your republished app once processed.&lt;/span&gt;  

--

&lt;span style = 'font-size:80%;'&gt;**3.** Push your files to GitHub.&lt;/span&gt;  

---
### **Exercise 4:** Add a reactive histogram

&lt;span style = 'font-size:70%;'&gt;Time to flex your reactivity skills! Add a second reactive plot to your Shiny app.&lt;/span&gt;

.pull-left[
**To Do:**
* &lt;span style = 'font-size:70%;'&gt;Create a reactive histogram of penguin flipper lengths (similar to the one shown here) with a `shinyWidgets::pickerInput` that allows users to filter displayed data by island(s)&lt;/span&gt;
* &lt;span style = 'font-size:70%;'&gt;Be sure to include a `label`, default to all islands selected, and include buttons that allow users to "Select All" or "Deselect All" islands at once&lt;/span&gt;
* &lt;span style = 'font-size:70%;'&gt;Add the `pickerInput` and rendered histogram output to your shiny app where appropriate&lt;/span&gt;
]

.pull-right[
&lt;img src="media/hist.png" width="80%" height="80%" /&gt;
]

**Some tips to get your started:**
* &lt;span style = 'font-size:70%;'&gt;Check out the [`pickerInput` documentation](https://dreamrs.github.io/shinyWidgets/reference/pickerInput.html) to learn more about the arguments you'll need to include&lt;/span&gt;
* &lt;span style = 'font-size:70%;'&gt;Once you've created your reactive histogram output, pay close attention to the species colors when you select different islands. Notice anything strange? How might you address this issue (if you haven't already done so)?

---
### **Exercise 4:** Solution for adding a &lt;span style = 'font-size:90%;'&gt;`shinyWidgets::pickerInput`&lt;/span&gt; and &lt;span style = 'font-size:90%;'&gt;`plotOutput`&lt;/span&gt; to the UI

**UI**

```r
ui &lt;- fluidPage(
  
  # ~ previous code (and layout functions) omitted for brevity ~
  
  # island input ----
  pickerInput(inputId = "island", label = "Select an island:",
              choices = c("Torgersen", "Dream", "Biscoe"),
              options = list('actions-box' = TRUE), 
              selected = c("Torgersen", "Dream", "Biscoe"),
              multiple = T),
  
  # flipper length plot output ----
  plotOutput(outputId = "flipperLength_hist")
  
)

# NOTE: actions-box should be surrounded by backticks, which were replaced here with apostrophes as to not trigger highlighting :)  
```

---
### **Exercise 4:** Solution for rendering a reactive histogram of penguin flipper lengths

**Server**

```r
server &lt;- function(input, output) {
 
  # ~ previous code omitted for brevity ~
  
  # filter island data ----
    island_df &lt;- reactive({
      penguins %&gt;% 
        filter(island == input$island)
    })

  # render the flipper length histogram ----
  output$flipperLength_hist &lt;- renderPlot({

    ggplot(na.omit(island_df()), aes(x = flipper_length_mm, fill = species)) +
      geom_histogram(alpha = 0.6) +
      scale_fill_manual(values = c("Adelie" = "#FEA346", "Chinstrap" = "#B251F1", "Gentoo" = "#4BA4A4")) +
      labs(x = "Flipper length (mm)", y = "Frequency", 
           fill = "Penguin species") +
      theme_minimal() +
      theme(legend.position = "bottom",
            legend.background = element_rect(color = "white"))
  })
  
}
```

---
### &lt;span style = 'font-size:85%;'&gt;What happens if you **Deselect All** islands using the `pickerInput`?&lt;/span&gt;

--

&lt;span style = 'font-size:70%;'&gt;You get a pretty alarming, bright red error message in your app's UI:&lt;/span&gt;

.center[
&lt;img src="media/island_error.png" width="45%" height="45%" /&gt;
]

&lt;span style = 'font-size:70%;'&gt;These error messages include information that you as the application developer may understand, but that your users may not. We can instead generate a user-friendly [validation error](https://shiny.rstudio.com/articles/validation.html) message that helps to guide our users through the UI. Place your validation test at the start of any `reactive()` or `render*()` expression that calls `input$data`.&lt;/span&gt;

--


```r
server &lt;- function(input, output) {
  
     # filter island data ----
    island_df &lt;- reactive({
      
    `validate(` # validate() tests a condition, returns error if test fails-
      # need() takes an exp that returns T or F + chr string to return if exp is FALSE 
      `need(length(input$island) &gt; 0, "Please select at least one island to visualize.")` 
    `) `
    
      penguins %&gt;% 
        filter(island == input$island)
    })
  
  # render the flipper length histogram ----
  output$flipperLength_hist &lt;- renderPlot({
    
    # ~ histogram omitted for brevity ~
    
  })
}
```

---

### Check out our new, less-alarming and more user-friendly error message:

.center[
&lt;img src="media/validate_error.gif" title="A user is viewing the histogram output of penguin flipper lengths for Adelie, Chinstrap, and Gentoo penguins. Above the histogram, there is a dropdown menu where a user can filter the displayed data by island (Torgersen, Dream, and Biscoe). The user clicks on the 'Deselect All' option to reveal a new, more user-friendly error message printed in gray lettering, which reads, 'Please select at least one island to visualize.'" alt="A user is viewing the histogram output of penguin flipper lengths for Adelie, Chinstrap, and Gentoo penguins. Above the histogram, there is a dropdown menu where a user can filter the displayed data by island (Torgersen, Dream, and Biscoe). The user clicks on the 'Deselect All' option to reveal a new, more user-friendly error message printed in gray lettering, which reads, 'Please select at least one island to visualize.'" width="75%" height="75%" /&gt;
]

---
### **Exercise 5:** Add a second input to your reactive histogram

&lt;span style = 'font-size:80%;'&gt;You can have more than one input for a given output. We'll practice doing so here.&lt;/span&gt;

**To Do:** 
* &lt;span style = 'font-size:80%;'&gt;Create a `sliderInput` that allows users to update the bin number for your penguin flipper length histogram output.&lt;/span&gt;

**Some tips to get you started:** 
* &lt;span style = 'font-size:80%;'&gt;Identify the place in your code where you would you change the histogram's bin number in a "static" `ggplot`. How do you make this update-able based on user inputs to the UI?&lt;/span&gt;

---
### **Exercise 5:** Solution for adding a second `sliderInput` for your reactive histogram

**UI**

```r
ui &lt;- fluidPage(
  
  # ~ previous code (and layout functions) omitted for brevity ~
  
  # island input ----
  pickerInput(inputId = "island", label = "Select an island:",
              choices = c("Torgersen", "Dream", "Biscoe"),
              options = list('actions-box' = TRUE),
              selected = c("Torgersen", "Dream", "Biscoe"),
              multiple = T),
  
  # bin number input ---- 
  `sliderInput(inputId = "bin_num", label = "Select number of bins:",`
              `value = 25, max = 100, min = 1),` 
  
  # flipper length plot output ----
  plotOutput(outputId = "flipperLength_hist")
)

# NOTE: actions-box should be surrounded by backticks, which were replaced here with apostrophes as to not trigger highlighting :)
```

---
### **Exercise 5:** Solution for adding a second `sliderInput` for your reactive histogram

**Server**

```r
server &lt;- function(input, output) {
 
  # ~ previous code omitted for brevity ~
  
  # filter island data ----
    island_df &lt;- reactive({
      
      validate( 
      need(length(input$island) &gt; 0, "Please select at least one island to visualize.") 
      )
      
      penguins %&gt;% 
        filter(island == input$island)
      
    })

  # render the flipper length histogram ----
  output$flipperLength_hist &lt;- renderPlot({
    
    ggplot(na.omit(island_df()), aes(x = flipper_length_mm, fill = species)) +
      geom_histogram(alpha = 0.6, `bins = input$bin_num`) + 
      scale_fill_manual(values = c("Adelie" = "#FEA346", "Chinstrap" = "#B251F1", "Gentoo" = "#4BA4A4")) +
      labs(x = "Flipper length (mm)", y = "Frequency", 
           fill = "Penguin species") +
      theme_minimal() +
      theme(legend.position = "bottom",
            legend.background = element_rect(color = "white"))
  })
  
}
```

---
class: inverse, center, middle

##<svg aria-label="File" role="img" viewBox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>File</title><path d="M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"/></svg> Reading in data

More likely than not, you'll be loading data into your app rather than using built-in data sets. Here we'll talk about how you might choose to store those data, and of course, practice building more reactive widgets (no such thing as too much practice, right?).

---
### Saving and accessing your data

&lt;span style = 'font-size:70%;'&gt;Where you choose to store the data used by your Shiny app will depend largely on the type and size of the file(s) and who "owns" those data. This is outside the scope of this workshop, but I suggest reading Dean Attali's article, [Persistent data storage in Shiny apps](https://shiny.rstudio.com/articles/persistent-data-storage.html) to start. Because we are going to be working with a relatively small data set, we'll be downloading and storing our data locally (i.e. on our machines and in our GitHub repo).&lt;/span&gt;

&lt;span style = 'font-size:70%;'&gt;Regardless of where you choose to store your data, you can help your application more quickly process inputs/outputs by providing it only as much data as needed to run. This means **pre-processing** your data.&lt;/span&gt;

--

.center[
&lt;img src="media/repo_structure_data.png" width="50%" height="50%" /&gt;
]

&lt;span style = 'font-size:70%;'&gt;[`table_28.csv`](https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-pal.28.8) contains 24 attributes and 10,674 observations (you can review the full metadata record [here](https://portal.edirepository.org/nis/metadataviewer?packageid=knb-lter-pal.28.8)), though we'll only need a subset of those data for our app. We will save the original data file *outside* of our app directory and pre-process it in a separate script (i.e. *not* in `app.R`).&lt;/span&gt;

---
### Where we're going...

&lt;span style = 'font-size:80%;'&gt;We're going to create a **`DT` datatable that displays the mean, maximum, and minimum air temperatures by year and month**. We'll make this table *reactive* by adding a `radioButtons` input that allows a user to **select which month** to display the summary stats for.&lt;/span&gt;

.center[
&lt;img src="media/temp_DT_demo.gif" width="70%" height="70%" /&gt;
]

---
### Pre-processing your data

&lt;span style = 'font-size:70%;'&gt;I'll wrangle my data in a separate script, which I've stored in my `R` directory (if you're referencing the GitHub repo for my example app, this is the [`summarize_temp_data.R` script](https://github.com/samanthacsik/practice-shiny/blob/main/R/summarize_temp_data.R)).&lt;/span&gt;


```r
# import packages 
library(tidyverse)
library(janitor)

# load in data 
weather_data &lt;- read_csv(here::here("raw_data", "table_28.csv"))

# temps by month and year 
temp_month_summary &lt;- weather_data %&gt;% 
  clean_names() %&gt;% 
  mutate(year = format(date, format="%Y")) %&gt;% 
  mutate(month = format(date, format="%m")) %&gt;% 
  group_by(year, month) %&gt;% 
  summarize(
    mean_temp = round(mean(temperature_average_c), 1),
    max_temp  = max(temperature_high_c),
    min_temp  = min(temperature_low_c),
  ) %&gt;% 
  mutate(month_numeric = as.numeric(month),
         month_name = month.name[month_numeric]) %&gt;% 
  select(year, month_name, mean_temp, max_temp, min_temp)
```

---
### Saving your processed data

&lt;span style = 'font-size:80%;'&gt;If you are working with tabular data (as we are in this example), you may choose to save your processed data frame as a `.rds` file (R's own data file format which stores a single R object). Not only are `.rds` file are relatively small (and therefore take up little storage space), but they also preserve data types and classes (e.g. factors and dates), eliminating the need to redefine data types after loading the file.&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;I'm going to save my wrangled data as both a `.csv` and `.rds` file for demonstration purposes:&lt;/span&gt;


```r
# be sure to update this code with YOUR file path
write_csv(temp_month_summary, "./myapp/data/temp_month_summary.csv")
saveRDS(temp_month_summary, "./myapp/data/temp_month_summary.rds")
```

.footnote[
**Reminder:** You can check out my GitHub repo repository structure [here](https://github.com/samanthacsik/practice-shiny).
]

---
### Reading your data into your app

* read in data at the top of your `app.R` file 
* if building a two-file shiny app, read in data in your `server.R` file

---
class: inverse, center, middle

## <svg aria-label="magic" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>magic</title><path d="M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"/></svg> Adding some fun touches

Is any app *really* complete without an updated theme and some pictures (technically, yes...but that's less fun)?

---
### Using `{bslib}` for themeing Shiny apps

&lt;span style = 'font-size:80%;'&gt;There are lots of approaches (and packages) for customizing the appearance of your Shiny app (Hadley Wickham lists out a handful in [Ch 6.4](https://mastering-shiny.org/action-layout.html#bootstrap) of Mastering Shiny). Here, we'll use the [`{bslib}` package](https://rstudio.github.io/bslib/), which provides tools for customizing [Bootstrap themes](https://getbootstrap.com/docs/4.6/getting-started/theming/) from R.&lt;/span&gt; 

&lt;span style = 'font-size:80%;'&gt;By default, Shiny uses the Bootstrap v3 theme (which is not so exciting...). Change the theme to a slightly more exciting Bootstrap v4 theme by setting the `theme` argument of `fluidPage()` to `bslib::bs_theme()`.&lt;/span&gt;

```r
ui &lt;- fluidPage(
  theme = bslib::bs_theme()
)
```

--
&lt;span style = 'font-size:80%;'&gt;Alternatively, set a pre-made [bootswatch](https://bootswatch.com/) theme using the `bootswatch` argument (type `bootswatch_themes()` into your console to get a list of theme names):&lt;/span&gt;

```r
ui &lt;- fluidPage(
  theme = bslib::bs_theme(bootswatch = "minty")
)
```

---
### Using `{bslib}` for themeing Shiny apps

&lt;span style = 'font-size:80%;'&gt;If you're feeling creative, you can fully customize your own theme! Read the [`bslib` vignette](https://rstudio.github.io/bslib/articles/bslib.html) for detailed instructions.&lt;/span&gt; 

```r
ui &lt;- fluidPage(
  theme = bslib::bs_theme(
    bg = "#101010", # background color
    fg = "#FDF7F7", # foreground color
    primary = "#ED79F9", # primary accent color
    base_font = font_google("Prompt"),
    code_font = font_google("JetBrains Mono"))
  )
```

--

&lt;span style = 'font-size:80%;'&gt;Be sure to check out the *super cool* interactive themeing widget to test custom color/font/etc. combos before committing by running `bs_theme_preview()` in your console.&lt;/span&gt;

.center[
&lt;img src="media/bs_theme_preview.gif" width="60%" height="60%" /&gt;
]

---
### **Exercise 7:** Add a theme to your app using `{bslib}`

**To Do:**
* Try adding a `bootswatch` theme or customize your own (see [slide #80]())

**Some tips to get you started:**
* Remember: typing `bootswatch_themes()` into your console will return valid pre-built theme names, or play around with the `bs_theme_preview()` widget for customizing themes!

---
### Simplify themeing plots with `{thematic}`

&lt;span style = 'font-size:80%;'&gt;Call `thematic_shiny()` from the [`{thematic}` package](https://rstudio.github.io/thematic/index.html) before launching your app to generate plotOutputs that reflect your application's `bs_theme()`. For example (taken from [Carson Seivert's talk](https://talks.cpsievert.me/20201112/#1) at NHS-R Conference 2020):&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;**Without calling `thematic_shiny()`:**&lt;/span&gt;

```r
fluidPage(
  theme = bs_theme(bg = "#002B36", fg = "#EEE8D5", primary = "#2AA198", 
                   base_fonts = font_google(("Pacifico")),
  tabsetPanel(type = "pills", 
              tabPanel("ggplot", plotOutput("ggplot")), 
              tabPanel("lattice", plotOutput("lattice")), 
              tabPanel("base", plotOutput("base")))
)
```

.center[
&lt;img src="media/before_thematic.png" width="50%" height="50%" /&gt;
]

---
### Simplify themeing plots with `{thematic}`

&lt;span style = 'font-size:80%;'&gt;Call `thematic_shiny()` from the [`{thematic}` package](https://rstudio.github.io/thematic/index.html) before launching your app to generate plotOutputs that reflect your application's `bs_theme()`. For example (taken from [Carson Seivert's talk](https://talks.cpsievert.me/20201112/#1) at NHS-R Conference 2020):&lt;/span&gt;

&lt;span style = 'font-size:80%;'&gt;**With calling `thematic_shiny()`:**&lt;/span&gt;

```r
thematic::thematic_shiny()
fluidPage(
  theme = bs_theme(bg = "#002B36", fg = "#EEE8D5", primary = "#2AA198", 
                   base_fonts = font_google("Pacifico")),
  tabsetPanel(type = "pills", 
              tabPanel("ggplot", plotOutput("ggplot")), 
              tabPanel("lattice", plotOutput("lattice")), 
              tabPanel("base", plotOutput("base")))
)
```

.center[
&lt;img src="media/after_thematic.png" width="50%" height="50%" /&gt;
]

---
### &lt;span style = 'font-size:90%;'&gt;**Exercise 8:** Add an image(s) to your app&lt;/span&gt;

&lt;span style = 'font-size:70%;'&gt;You and include static images in your Shiny app using the `img()` function, or even create a reactive `imageOutput` that allows using to select which image they want to display. For example:&lt;span&gt;

.center[
&lt;img src="media/penguin_photo.gif" width="66%" height="66%" /&gt;
]

--

**To Do:**
* &lt;span style = 'font-size:70%;'&gt;Try adding an image(s) to your Shiny app.&lt;/span&gt;

**Some tips to get you started:**
* &lt;span style = 'font-size:70%;'&gt;Shiny Lesson 2, [Build a User Interface](http://shiny.rstudio-staging.com/tutorial/written-tutorial/lesson2/) is a great place to start if you want to add a static image.&lt;/span&gt;
* &lt;span style = 'font-size:70%;'&gt;If you want to create a reactive output using `renderImage()`, check out the [Render images in a Shiny app](https://shiny.rstudio.com/articles/images.html) article.&lt;/span&gt; 
* &lt;span style = 'font-size:70%;'&gt;To create my app (above), I found this [StackOverflow](https://stackoverflow.com/questions/45801594/changing-an-image-with-user-input-shiny-renderimage) answer to be particularly helpful.&lt;/span&gt;
* &lt;span style = 'font-size:70%;'&gt;If needed, check out the [source code](https://github.com/samanthacsik/practice-shiny) for my app.&lt;/span&gt;

---
class: inverse, center, middle

## <svg aria-label="Bug" role="img" viewBox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>Bug</title><path d="M511.988 288.9c-.478 17.43-15.217 31.1-32.653 31.1H424v16c0 21.864-4.882 42.584-13.6 61.145l60.228 60.228c12.496 12.497 12.496 32.758 0 45.255-12.498 12.497-32.759 12.496-45.256 0l-54.736-54.736C345.886 467.965 314.351 480 280 480V236c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v244c-34.351 0-65.886-12.035-90.636-32.108l-54.736 54.736c-12.498 12.497-32.759 12.496-45.256 0-12.496-12.497-12.496-32.758 0-45.255l60.228-60.228C92.882 378.584 88 357.864 88 336v-16H32.666C15.23 320 .491 306.33.013 288.9-.484 270.816 14.028 256 32 256h56v-58.745l-46.628-46.628c-12.496-12.497-12.496-32.758 0-45.255 12.498-12.497 32.758-12.497 45.256 0L141.255 160h229.489l54.627-54.627c12.498-12.497 32.758-12.497 45.256 0 12.496 12.497 12.496 32.758 0 45.255L424 197.255V256h56c17.972 0 32.484 14.816 31.988 32.9zM257 0c-61.856 0-112 50.144-112 112h224C369 50.144 318.856 0 257 0z"/></svg> Troubleshooting &amp; debugging your Shiny app

---
### `{reactlog}` can help you debug your shiny app

&lt;span style = 'font-size: 80%;'&gt;You'll likely find yourself in this situation during your shiny development journey:&lt;/span&gt;

&lt;span style = 'font-size: 80%;'&gt;**1.** you add a new reactive feature to your app, BUT&lt;/span&gt;  
&lt;span style = 'font-size: 80%;'&gt;**2.** your reactive input doesn't update, AND&lt;/span&gt;  
&lt;span style = 'font-size: 80%;'&gt;**3.** there's no error in the console to help you troubleshoot&lt;/span&gt;  

.footnote[
Reactivity can be *confusing*. I recommend watching Barret Schloerke's talk, linked above, and reading through the [Shiny Reactlog vignette ](https://rstudio.github.io/reactlog/articles/reactlog.html).
]

--

&lt;span style = 'font-size: 80%;'&gt;Debugging reactive code is particularly challenging because it involves lots of different components (R values, dependencies) which update over time.&lt;/span&gt;

&lt;span style = 'font-size: 80%;'&gt;Enter `{reactlog}`, which provides:&lt;/span&gt; 

&lt;br&gt;

.center[
&gt; "A snapshot of the history (**log**) of all **react**ive interactions within a shiny application"

.right[
&lt;span style = 'font-size: 60%;'&gt;- Barret Schloerke in his 2019 RSTUDIO::CONF talk, [Reactlog 2.0: Debugging the state of Shiny](https://www.rstudio.com/resources/rstudioconf-2019/reactlog-2-0-debugging-the-state-of-shiny/)&lt;/span&gt;
]
]

---
### Using `reactlog`

&lt;span style = 'font-size: 80%;'&gt;`reactlog` should already be installed as a dependency of `shiny` (but be sure to import the package at the top of your script using `library(reactlog)`). When enabled, it provides an interactive browser-based tool to visualize reactive dependencies and executions in your app.&lt;/span&gt;

**Steps:** 

&lt;span style = 'font-size: 80%;'&gt;**1.** Call `reactlog_enable()` in your console&lt;/span&gt;  
&lt;span style = 'font-size: 80%;'&gt;**2.** Run your app and interact with it&lt;/span&gt;  
&lt;span style = 'font-size: 80%;'&gt;**3.** Use the keyboard shortcut `cmd`/`ctrl` + `F3` to launch reactlog&lt;/span&gt;  
&lt;span style = 'font-size: 80%;'&gt;**4.** Use your `&lt;-` and `-&gt;` arrow keys (or &lt;img src="media/previous.png" alt="A gray, left-facing play button" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;"/&gt; and &lt;img src="media/forward.png" alt="A gray, right-facing play button" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;"/&gt;) to move forward and backward through your app's reactive life cycle.&lt;/span&gt;

.footnote[
Read about the [components of the status bar](https://rstudio.github.io/reactlog/articles/reactlog.html#status-bar) and the meaning of different [reactive states](https://rstudio.github.io/reactlog/articles/reactlog.html#reactive-states) in the reactlog vignette.
]

---
### Using `reactlog` -- two examples

&lt;span style = 'font-size: 80%;'&gt;Let's explore `reactlog` using a small app, though it becomes increasingly more useful as you need to debug larger, more complex apps.&lt;/span&gt;

&lt;span style = 'font-size: 80%;'&gt;I've created two apps, one that's working the way I expect and another that is not. You can fork and clone both apps below if you'd like to run the code yourself.&lt;/span&gt; 

* &lt;span style = 'font-size: 80%;'&gt;A functioning app: https://github.com/samanthacsik/reactlog-practice-working&lt;/span&gt;
* &lt;span style = 'font-size: 80%;'&gt;A borked app: https://github.com/samanthacsik/reactlog-practice-broken&lt;/span&gt;

&lt;span style = 'font-size: 80%;'&gt;When functioning correctly, both image and text outputs should update based on a `radioButton` user input.&lt;span&gt;

.center[
&lt;img src="media/simple_img_text_app.gif" width="50%" height="50%" /&gt;
]

---
### Using `reactlog` -- [a correctly functioning app](https://github.com/samanthacsik/reactlog-practice-working)

&lt;span style = 'font-size: 80%;'&gt;To visualize the reactive life cycle of this app, I'll first call `reactlog_enable()` in my console, then run my app. By default, **All penguins** is selected. For demonstration purposes, I'll click down the list (**Sassy chinstrap**, **Staring gentoo**, and finally **Adorable adelie**), as shown in the gif on the previous slide.&lt;/span&gt;

--

&lt;span style = 'font-size: 80%;'&gt;I can launch reactlog by using the `cmd`/`ctrl` + `F3` keyboard shortcut and use the &lt;img src="media/forward.png" alt="A gray, right-facing play button" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;"/&gt; button to move forward through each step:&lt;/span&gt;

.center[
&lt;img src="media/reactlog_working.gif" width="60%" height="60%" /&gt;
]

---
### Using `reactlog` -- [a correctly functioning app](https://github.com/samanthacsik/reactlog-practice-working)

&lt;span style = 'font-size: 70%;'&gt;There's a lot to take in here, so let's take it one step at a time:&lt;/span&gt;

&lt;span style = 'font-size: 70%;'&gt;**1.** The `radioButton` input defaults to show the **All penguins** image and associated text. When we launch reactlog, our input &lt;img src="media/input.png" alt="" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;"/&gt;, reactive expression &lt;img src="media/expression.png" alt="" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;"/&gt;, and outputs &lt;img src="media/output.png" alt="" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;"/&gt; are **Ready**, meaning the calculated values are available (defaults in this case) and reactive elements have finished executing (i.e. the image and text is displayed). This **Ready** state is indicated by the green icons.&lt;/span&gt;

--

&lt;span style = 'font-size: 70%;'&gt;**2.** I (the user) then updated the input by choosing **Sassy chinstrap**, invalidating (i.e. resetting) the input and thereby invalidating any dependencies -- in this case both the image and text outputs. This **Invalidating** state is indicated by the gray icons.&lt;/span&gt; 

--

&lt;span style = 'font-size: 70%;'&gt;**3.** Once all dependencies are invalidated, the reactive elements can begin **Calculating** (i.e. executing) based on the new input (**Sassy chinstrap**). Elements are colored yellow when they are being calculated, then green when calculations are complete and the reactive element has been updated. In this example, first the image and then the text are calculated and updated.&lt;/span&gt;

--

&lt;span style = 'font-size: 70%;'&gt;**4.** These same steps are repeated when I select the **Staring gentoo**, then **Adorable adelie** `radioButtons`&lt;/span&gt; 

---
### Using `reactlog` -- [a borked app](https://github.com/samanthacsik/reactlog-practice-broken)
 &lt;span style = 'font-size: 70%;'&gt;Let's try out reactlog on an intentionally borked app. Here, our images change when the `radioButton` user inputs are updated, but our text doesn't appear.&lt;/span&gt;

&lt;span style = 'font-size: 70%;'&gt;As in our functioning app, the **All penguins** image is selected by default. For demonstration purposes, I'll select each option moving down the list (**Sassy chinstrap**, **Staring gentoo**, **Adorable adelie**) before launching reactlog.&lt;/span&gt;

.center[
&lt;img src="media/simple_img_text_app_notworking.gif" width="60%" height="60%" /&gt;
]

---
### Using `reactlog` -- [a borked app](https://github.com/samanthacsik/reactlog-practice-broken)

&lt;span style = 'font-size: 70%;'&gt;Similar to our functioning app, the default input, **All penguins**, and image output are **Ready** (green). However, in this example our text output is *not a dependency* of our application's input -- there's no linkage and the text output is **Invalidated** (gray).&lt;/span&gt;

&lt;span style = 'font-size: 70%;'&gt;As we click down the list of `radioButtons`, the image output is invalidated, then updated accordingly but the text output remains disconnected from our input.&lt;/span&gt;

.center[
&lt;img src="media/reactlog_notworking.gif" width="50%" height="50%" /&gt;
]

---
### Using `reactlog` -- [a borked app](https://github.com/samanthacsik/reactlog-practice-broken)

&lt;span style = 'font-size: 70%;'&gt;This suggests that we ensure that our UI and server are actually able to communicate about our desired text output. After careful inspection of our `textOutput()` and `renderText()` code, we find that a spelling error is to blame:&lt;/span&gt;

&lt;span style = 'font-size: 70%;'&gt;Our `outputId` in the **UI** is set to `penguin_text`:&lt;/span&gt;

```r
ui &lt;- fluidPage(
  
  # ~ previous code excluded for brevity ~
  
  # text output ----
  textOutput(outputId = `"penguin_text"`)
  
)
```

&lt;span style = 'font-size: 70%;'&gt;But we call `penguins_text` when rendering our output in the **server**:&lt;/span&gt;

```r
server &lt;- function(input, output){
  
  # ~ previous code excluded for brevity ~
  
  # render penguin text ----
  output$`penguins_text` &lt;- renderText({
    
    # ~ code excluded for brevity ~
    
  })
}
```

&lt;span style = 'font-size: 70%;'&gt;By updating our `outputId` to match in both the UI and the server, we fix our app.&lt;/span&gt;

---
class: inverse, center, middle

## <svg aria-label="Brain" role="img" viewBox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>Brain</title><path d="M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"/></svg> Okay, time flex all of your new Shiny skills!

---
### **Exercise 9:** Add your own reactive output to your app

**To Do:**

* &lt;span style = 'font-size: 70%;'&gt;Add a reactive output -- whatever type of you want -- to your application using the **Palmer weather** data set.&lt;/span&gt;

**Some tips to get you started:**

* &lt;span style = 'font-size: 70%;'&gt;Review [slide #40](https://ucsb-meds.github.io/shiny-workshop/#70) if you need a reminder of the steps we took to add reactive outputs to our app.&lt;/span&gt;
* &lt;span style = 'font-size: 70%;'&gt;Remember that drafting outputs in a separate script may help you test concepts before jumping back into the Shiny framework.&lt;/span&gt;
* &lt;span style = 'font-size: 70%;'&gt;If you're stuck, here are a couple ideas to get you started:&lt;/span&gt;
  + &lt;span style = 'font-size: 60%;'&gt;a plot of temperature (or SST, rainfall, snow depth, etc.) through time, where the user can select a date range to display&lt;/span&gt;
  + &lt;span style = 'font-size: 60%;'&gt;a plot of monthly averages (to compliment our `DT` table from **Exercise 6**), where the user can select which month(s) to display&lt;/span&gt;
  + &lt;span style = 'font-size: 60%;'&gt;a plot of multiple attributes (e.g. SST, rainfall, and snow depth) through time, where users can select both the date range *and* which attribute(s) to display&lt;/span&gt;

.center[
&lt;img src="media/question_mark.png" width="50%" height="50%" /&gt;
]

---
class: inverse, center, middle

## <svg aria-label="Alternate Tachometer" role="img" viewBox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>Alternate Tachometer</title><path d="M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"/></svg> Other application frameworks

Shiny alone provides pretty much everything you need to produce high-quality web applications. *But* there are additional packages and development frameworks that you might explore to help you take your app to the next level.

---
### Take your shiny app to the next level 

* &lt;span style = 'font-size: 80%;'&gt;[`{shinydashboard}`](https://rstudio.github.io/shinydashboard/) makes it easy to use shiny to produce visually-appealing dashboards. If you're looking for inspriation, check out this *awesome* [shiny dashboard exploring kelp forest monitoring data](https://github.com/cullen-molitor/KFM_Shiny_App) from the Channel Islands National Park Service, built by our very own [Cullen Molitor](https://cullen-molitor.github.io/) (MEDS 2022)!&lt;/span&gt;

--

*  &lt;span style = 'font-size: 80%;'&gt;[`{golem}`](https://github.com/ThinkR-open/golem) is an opinionated framework for building production-grade shiny applications and is a part of a growing ecosystem of packages called the [`{golemverse}`](https://golemverse.org/). There are *lots* of accompanying learning materials, including the book, [Engineering Production Grade Shiny Apps](https://engineering-shiny.org/), by Colin Fay, Sébastien Rochette, Vincent Guyader, and Cervan Girard.&lt;/span&gt;

--

* &lt;span style = 'font-size: 80%;'&gt;Though it's *not* a shiny framework, [`{flexdashboard}`](https://pkgs.rstudio.com/flexdashboard/index.html) allows you to produce dynamic dashboards using R Markdown. This may be useful if you're looking to display your data in an organized way, but don't need the full functionality that shiny provides. Find example projects and their source code [here](https://pkgs.rstudio.com/flexdashboard/articles/examples.html).&lt;/span&gt;

---
class: inverse, center, middle

## <svg aria-label="plus" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#93C6C2;overflow:visible;position:relative;"><title>plus</title><path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"/></svg> Additional considerations and resources

We've only scratched the surface of what's possible with Shiny. Here are some additional considerations as you begin to develop more complex applications.

---
### Just a few resources to get you started

&lt;span style = 'font-size: 80%;'&gt;Write UI and server **functions**, which helps to spread out your app across multiple files, making it easier to manage large apps) and to debug&lt;/span&gt;  
* &lt;span style = 'font-size: 70%;'&gt;[Chapter 18: Functions](https://mastering-shiny.org/scaling-functions.html#scaling-functions) from Mastering Shiny, by Hadley Wickham&lt;/span&gt;

--

&lt;span style = 'font-size: 80%;'&gt;Build **Shiny modules**, which are like functions but bundle up both UI and server elements into smaller (and oftentimes resuable) *pieces* of a Shiny app.&lt;/span&gt;   
* &lt;span style = 'font-size: 70%;'&gt;[Ch 19: Shiny modules](https://mastering-shiny.org/scaling-modules.html#scaling-modules) from Mastering Shiny, by Hadley Wickham&lt;/span&gt;  
* &lt;span style = 'font-size: 70%;'&gt;[Modularizing Shiny app code](https://shiny.rstudio.com/articles/modules.html#:~:text=A%20Shiny%20module%20is%20a%20piece%20of%20a%20Shiny%20app.&amp;text=Modules%20can%20represent%20input%2C%20output,multiple%20reactive%20expressions%20and%20observers.) from Shiny Articles, by Winston Chang&lt;/span&gt;  
* &lt;span style = 'font-size: 70%;'&gt;[Modules](https://www.rstudio.com/resources/shiny-dev-con/modules/), a video tutorial by Garrett Grolemund from Shiny Dev Con 2016&lt;/span&gt;  

--

&lt;span style = 'font-size: 80%;'&gt;Build **advanced application UIs** using CSS and JavaScript&lt;/span&gt;
* &lt;span style = 'font-size: 70%;'&gt;[Outstanding User Interfaces with Shiny](https://unleash-shiny.rinterface.com/index.html), by David Granjon&lt;/span&gt;
* &lt;span style = 'font-size: 70%;'&gt;[`{shinyjs}` package](https://github.com/daattali/shinyjs), by Dean Attali&lt;/span&gt;

---
class: center, middle

### I'm excited to see what *Shiny* new apps you all create!
&lt;img src="media/sparkle.gif" width="40%" /&gt;

Slides created via the R packages:

[**xaringan**](https://github.com/yihui/xaringan)&lt;br&gt;
[**gadenbuie/xaringanthemer**](https://github.com/gadenbuie/xaringanthemer)

&lt;span style = 'font-size: 75%;'&gt;*If you see mistakes or want to suggest changes, please create an [issue](https://github.com/UCSB-MEDS/shiny-workshop/issues) on the source repository.*&lt;/span&gt;

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"countIncrementalSlides": false,
"highlightLines": true,
"highlightSpans": true,
"highlightStyle": "github"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
